{"version":3,"sources":["components/app/App.module.css","components/modal-overlay/ModalOverlayStyles.module.css","pages/home/home.module.css","components/sortable-ingredient/SortableIngredientStyles.module.css","pages/ingredients/ingredients.module.css","components/profile-orders/ProfileOrdersStyles.module.css","pages/order-details/orderDetailsStyles.module.css","components/order-details/OrderDetailsStyles.module.css","components/app-header/AppHeader.module.css","components/orders-feed/OrdersFeedStyles.module.css","components/app-header/AppHeader.tsx","components/modal-overlay/ModalOverlay.tsx","services/appVariables.ts","services/actions/burger.ts","services/helperFunctions.ts","services/actions/user.ts","services/actions/order.ts","components/modal/Modal.tsx","components/ingredient-details/IngredientDetails.tsx","images/success.gif","components/order-created/OrderCreated.tsx","images/loading.gif","components/loading/Loading.tsx","components/burger-ingredient/BurgerIngredient.tsx","components/burger-ingredients/BurgerIngredients.tsx","components/sortable-ingredient/SortableIngredient.tsx","components/burger-constructor/BurgerConstructor.tsx","pages/home/home.tsx","pages/login/login.tsx","pages/register/register.tsx","pages/forgot-password/forgot-password.tsx","pages/reset-password/reset-password.tsx","images/404.gif","pages/not-found/not-found.tsx","pages/ingredients/ingredients.tsx","components/profile-menu/ProfileMenu.tsx","components/profile-form/ProfileForm.tsx","components/orders-feed/OrdersFeed.tsx","services/actions/websocket.ts","components/profile-orders/ProfileOrders.tsx","pages/profile/profile.tsx","components/orders-stat/OrdersStat.tsx","pages/feed/feed.tsx","pages/order-details/order-details.tsx","components/order-details/OrderDetails.tsx","hocs/protected-route/ProtectedRoute.tsx","components/modal-switch/ModalSwitch.tsx","services/actions/ingredients.ts","components/app/App.tsx","reportWebVitals.ts","services/preloadedState.ts","services/reducers/ingredients-reducer/ingredientsReducer.ts","services/reducers/burger-reducer/burgerReducer.ts","services/reducers/user-reducer/userReducer.ts","services/reducers/order-reducer/orderReducer.ts","services/reducers/index.ts","services/reducers/websocket-reducer/websocketReducer.ts","services/store.ts","services/middlewares/websocetMiddleware.ts","index.tsx","pages/login/login.module.css","pages/register/register.module.css","pages/reset-password/reset-password.module.css","pages/forgot-password/forgotPassword.module.css","components/profile-form/ProfileFormStyles.module.css","components/profile-menu/ProfileMenuStyles.module.css","components/burger-constructor/BurgerConstructorStyles.module.css","components/orders-stat/OrdersStatStyles.module.css","components/burger-ingredients/BurgerIngredientsStyles.module.css","pages/profile/profile.module.css","components/burger-ingredient/BurgerIngredientStyles.module.css","components/order-created/OrderCreatedStyles.module.css","components/loading/LoadingStyles.module.css","components/modal/ModalStyles.module.css","components/ingredient-details/IngredientDetailsStyles.module.css","pages/not-found/notFound.module.css","pages/feed/feedStyles.module.css"],"names":["module","exports","AppHeader","className","styles","header","headerWrapper","menuItems","menuItemSection","exact","to","menuItem","activeClassName","menuItemActive","type","logoSection","lkSection","menuLkItem","ModalOverlay","closeModal","history","useHistory","onClick","ModalOverlayStyles","overlay","ORDER_URL","USER_URL","TWENTY_FOUR_HOURS","ORDER_STATUSES","done","created","pending","ADD_TO_BURGER","REMOVE_FROM_BURGER","CLEAR_BURGER","REORDER_BURGER","checkResponse","res","ok","json","then","err","Promise","reject","setCookie","name","value","options","path","updatedCookie","encodeURIComponent","optionKey","document","cookie","getCookie","cname","ca","decodeURIComponent","split","i","length","c","charAt","substring","indexOf","deleteCookie","deleteCookies","cookies","forEach","el","generateOrderItems","ingredients","items","products","product","find","item","_id","undefined","metaData","amount","image","image_mobile","price","id","keys","orderTotal","push","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT_REQUEST","LOGOUT_SUCCESS","LOGOUT_FAIL","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_FAIL","FORGOT_PASSWORD_REQUEST","FORGOT_PASSWORD_SUCCESS","FORGOT_PASSWORD_FAIL","RESET_PASSWORD_REQUEST","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_FAIL","GET_USER_REQUEST","GET_USER_SUCCESS","GET_USER_FAIL","UPDATE_USER_REQUEST","UPDATE_USER_SUCCESS","UPDATE_USER_FAIL","refreshToken","afterRefresh","dispatch","a","fetch","method","headers","body","success","Error","message","accessToken","catch","error","alert","getUser","password","user","statusText","updateUser","data","JSON","stringify","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_CLOSE","createOrder","res_1","order","modalRoot","getElementById","Modal","children","useDispatch","useSelector","store","useCallback","goBack","useEffect","handleEsc","event","keyCode","addEventListener","removeEventListener","ReactDOM","createPortal","ModalStyles","modal","headingWrapper","IngredientDetails","details","useParams","ingredient","nutritionalValue","calories","proteins","fat","carbohydrates","IngredientDetailsStyles","ingredientDetails","alt","src","image_large","nutritionalValues","Object","map","key","OrderCreated","OrderDetailsStyles","orderDetails","orderId","number","iconWrapper","successIcon","Loading","request","fail","section","loadingGif","gif","BurgerIngredient","location","useLocation","ingredientId","burger","itemId","qty","bun","notBun","filter","useDrag","collect","monitor","isDrag","isDragging","dragRef","BurgerIngredientStyles","listItem","ref","pathname","state","background","count","size","listItemContent","listItemPrice","listItemTitle","BurgerIngredients","useState","active","tabs","setTabs","scrollDiv","useRef","bunHeader","mainHeader","sauceHeader","switchTab","tab","ingredientBlock","current","scrollHandler","scrollBlock","currentTarget","scrollTop","offsetTop","scrollIngredients","bunHeaderoffsetTop","scrollTo","BurgerIngredientsStyles","leftSidebar","style","display","index","burgerBuilder","list","React","memo","SortableIngredient","moveCard","useDrop","accept","handlerId","getHandlerId","hover","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","clientOffset","getClientOffset","hoverClientY","y","drop","opacity","drag","SortableIngredientStyles","chosenItem","text","thumbnail","handleClose","uniqueId","BurgerConstructor","useMemo","reduce","acc","obj","dragCard","payload","update","$splice","uuidv4","isHover","isOver","dropTarget","borderColor","BurgerConstructorStyles","rightSidebar","cart","isLocked","card","renderCard","cartEmpty","checkout","total","HomePage","ingredientsRequest","ingredientsFailed","content","DndProvider","backend","HTML5Backend","LoginPage","email","setEmail","setPassword","loginWrapper","loginContent","formTitle","onSubmit","e","preventDefault","login","form","inputWrapper","placeholder","onChange","target","submitWrapper","paragraph","link","RegisterPage","setName","registerUser","register","ForgotPasswordPage","formSubmit","forgotPassword","ResetPasswordPage","code","setCode","token","resetPassword","NotFoundPage","notFoundImage","IngredientsPage","heading","ProfileMenu","profileMenu","profileLink","profileLinkActive","info","ProfileForm","getUserRequest","initialFormState","formData","setFormData","failed","replace","fetchUserData","profileOnChange","sidesWrapper","leftSide","icon","href","rightSide","OrdersFeed","useRouteMatch","websocket","orders","wsConnected","ordersList","some","orderItems","orderLink","orderTop","orderID","moment","createdAt","locale","calendar","orderStatus","status","orderTitle","orderBottom","orderItem","orderCost","WS_CONNECTION_START","WS_CONNECTION_SUCCESS","WS_CONNECTION_ERROR","WS_CONNECTION_FINISH","WS_CONNECTION_CLOSED","WS_GET_ORDERS","ProfileOrders","url","secure","ordersFeed","ProfilePage","column","sidebar","centerBlock","OrdersStat","totalToday","ordersTable","completedOrders","orderIds","ordersTotals","FeedPage","OrderDetailsPage","orderDetailsPage","OrderDetails","setOrder","setOrderItems","setError","itemName","order–°omposition","orderItemLeft","orderThumbnail","orderFooter","ProtectedRoute","rest","render","from","ModalSwitch","action","GET_INGREDIENTS_REQUEST","GET_INGREDIENTS_SUCCESS","GET_INGREDIENTS_FAIL","App","basename","AppStyles","container","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","preloadedState","orderRequest","orderRailed","logout","updateUserRequest","initialState","rootReducer","combineReducers","configureStore","reducer","devTools","process","middleware","thunk","socket","next","WebSocket","onopen","onerror","onmessage","parsedData","parse","onclose","close","enhancers","StrictMode"],"mappings":"uGACAA,EAAOC,QAAU,CAAC,UAAY,yB,oBCA9BD,EAAOC,QAAU,CAAC,QAAU,sC,oBCA5BD,EAAOC,QAAU,CAAC,QAAU,wB,oBCA5BD,EAAOC,QAAU,CAAC,WAAa,+C,oBCA/BD,EAAOC,QAAU,CAAC,QAAU,+B,oBCA5BD,EAAOC,QAAU,CAAC,WAAa,0C,oBCA/BD,EAAOC,QAAU,CAAC,iBAAmB,+C,mBCArCD,EAAOC,QAAU,CAAC,QAAU,oCAAoC,SAAW,qCAAqC,wBAAmB,kDAA6C,YAAc,wCAAwC,WAAa,uCAAuC,UAAY,sCAAsC,YAAc,wCAAwC,WAAa,uCAAuC,UAAY,sCAAsC,cAAgB,0CAA0C,eAAiB,6C,yCCAnjBD,EAAOC,QAAU,CAAC,OAAS,0BAA0B,cAAgB,iCAAiC,UAAY,6BAA6B,gBAAkB,mCAAmC,YAAc,gEAAgE,UAAY,8DAA8D,SAAW,4BAA4B,eAAiB,4DAA4D,WAAa,0D,mBCA7dD,EAAOC,QAAU,CAAC,WAAa,qCAAqC,UAAY,oCAAoC,SAAW,mCAAmC,QAAU,kCAAkC,WAAa,qCAAqC,YAAc,sCAAsC,WAAa,qCAAqC,UAAY,oCAAoC,WAAa,qCAAqC,UAAY,oCAAoC,YAAc,sCAAsC,KAAO,+BAA+B,SAAW,qC,4HCyC9kBC,MAhCf,WACI,OACI,wBAAQC,UAAWC,IAAOC,OAA1B,SACI,qBAAKF,UAAWC,IAAOE,cAAvB,SACI,sBAAKH,UAAWC,IAAOG,UAAvB,UACI,sBAAKJ,UAAWC,IAAOI,gBAAvB,UACI,eAAC,IAAD,CAASC,OAAK,EAACC,GAAG,IAAIP,UAAWC,IAAOO,SAAUC,gBAAiBR,IAAOS,eAA1E,UACI,cAAC,aAAD,CAAYC,KAAK,cACjB,sBAAMX,UAAU,OAAhB,mFAEJ,eAAC,IAAD,CAASO,GAAG,QAAQP,UAAWC,IAAOO,SAAUC,gBAAiBR,IAAOS,eAAxE,UACI,cAAC,WAAD,CAAUC,KAAK,cACf,sBAAMX,UAAU,OAAhB,6FAGR,qBAAKA,UAAWC,IAAOW,YAAvB,SACI,cAAC,IAAD,CAAML,GAAG,IAAT,SACI,cAAC,OAAD,QAGR,qBAAKP,UAAWC,IAAOY,UAAvB,SACI,eAAC,IAAD,CAASN,GAAG,WAAWP,UAAWC,IAAOa,WAAYL,gBAAiBR,IAAOS,eAA7E,UACI,cAAC,cAAD,CAAaC,KAAK,cAClB,sBAAMX,UAAU,OAAhB,0G,mDCxBbe,MAJf,YAAyD,IAAlCC,EAAiC,EAAjCA,WACbC,EAAUC,cAChB,OAAO,qBAAKC,QAAS,kBAAMH,EAAWC,IAAUjB,UAAWoB,IAAmBC,W,iBCNrEC,EAAY,+CASZC,EAAW,kDAKXC,EAAoB,MACpBC,EAAiB,CAC1BC,KAAM,mDACNC,QAAS,uCACTC,QAAS,0D,yBCnBAC,EAAiC,gBACjCC,EAA2C,qBAC3CC,EAA+B,eAC/BC,EAAmC,iB,eCDnCC,EAAgB,SAACC,GAC1B,OAAOA,EAAIC,GAAKD,EAAIE,OAASF,EAAIE,OAAOC,MAAK,SAACC,GAAD,OAASC,QAAQC,OAAOF,OAM5DG,EAAY,SAACC,EAAcC,EAAeC,GACnDA,EAAO,aACHC,KAAM,KACHD,GAEP,IAAIE,EAAgBC,mBAAmBL,GAAQ,IAAMK,mBAAmBJ,GACxE,IAAK,IAAIK,KAAaJ,EAAS,CAC3BE,GAAiB,KAAOE,EAExBF,GAAiB,IADCF,EAAQI,GAG9BC,SAASC,OAASJ,GAGTK,EAAY,SAACC,GAItB,IAHA,IAAIV,EAAOU,EAAQ,IAEfC,EADgBC,mBAAmBL,SAASC,QACzBK,MAAM,KACpBC,EAAI,EAAGA,EAAIH,EAAGI,OAAQD,IAAK,CAEhC,IADA,IAAIE,EAAIL,EAAGG,GACY,MAAhBE,EAAEC,OAAO,IACZD,EAAIA,EAAEE,UAAU,GAEpB,GAAwB,IAApBF,EAAEG,QAAQnB,GACV,OAAOgB,EAAEE,UAAUlB,EAAKe,OAAQC,EAAED,QAG1C,MAAO,IAGEK,EAAe,SAACpB,GACzBD,EAAUC,EAAM,GAAI,CAChB,WAAY,KAIPqB,EAAgB,WAA6B,IAA5BC,EAA2B,uDAAP,GAC9CA,EAAQC,SAAQ,SAAAC,GACZJ,EAAaI,OAIRC,EAAqB,SAACC,EAAuBC,GACtD,IAAIC,EAAgC,KAmCpC,OAlCAF,EAAYH,SAAQ,SAAAC,GAChB,IAAMK,EAAkCF,EAAMG,MAAK,SAAAC,GAAI,OAAIA,EAAKC,MAAQR,KACxE,GAAuB,qBAAZK,EACP,OAAO,EAEM,OAAbD,QAAwCK,WAAZJ,EAC5BD,EAAW,CACPM,SAAS,eACJV,EAAK,CACFW,OAAQ,EACRnC,KAAM6B,EAAQ7B,KACdoC,MAAOP,EAAQQ,aACfC,MAAOT,EAAQS,MACfC,GAAIf,IAGZgB,KAAM,CAAChB,GACPiB,WAAYZ,EAAQS,OAEJ,OAAbV,GAAuBJ,KAAMI,EAASM,SAUzB,OAAbN,GAAqBJ,KAAMI,EAASM,WAC3CN,EAASM,SAASV,GAAIW,QAAU,EAChCP,EAAQ,YAAkBC,EAAQS,QAXlCV,EAASM,SAASV,GAAM,CACpBW,OAAQ,EACRnC,KAAM6B,EAAQ7B,KACdoC,MAAOP,EAAQQ,aACfC,MAAOT,EAAQS,MACfC,GAAIf,GAERI,EAAQ,KAASc,KAAKlB,GACtBI,EAAQ,YAAkBC,EAAQS,UAMnCV,GCjEEe,EAAiC,gBACjCC,EAAiC,gBACjCC,EAA2B,aAE3BC,EAAmC,iBACnCC,EAAmC,iBACnCC,EAA6B,cAE7BC,EAAuC,mBACvCC,EAAuC,mBACvCC,EAAiC,gBAEjCC,EAAqD,0BACrDC,EAAqD,0BACrDC,EAA+C,uBAE/CC,EAAmD,yBACnDC,GAAmD,yBACnDC,GAA6C,sBAE7CC,GAAuC,mBACvCC,GAAuC,mBACvCC,GAAiC,gBAEjCC,GAA6C,sBAC7CC,GAA6C,sBAC7CC,GAAuC,mBAEvCC,GAA8B,SAACC,GAAD,8CAAkB,WAAOC,GAAP,SAAAC,EAAA,sEAC5CC,MH5CQ,mDG4CS,CAC1BC,OAAQ,OACRC,QAAS,CACL,eAAgB,qCAEpBC,KAAM,SAAW9D,EAAU,kBAC5Bd,KAAKJ,GACHI,MAAK,SAAAH,GACF,IAAIA,EAAIgF,QAKJ,MAAM,IAAIC,MAAMjF,EAAIkF,SAJpB3E,EAAU,cAAeP,EAAImF,YAAa,CAAC,UAAW7F,IACtDiB,EAAU,eAAgBP,EAAIwE,aAAc,CAAC,UAAWlF,IACxDoF,EAASD,MAKhBW,OAAM,SAAAC,GACHC,MAAMD,EAAMH,SACZrD,EAAc,CAAC,cAAe,oBAnBmB,mFAAlB,uDAqL9B0D,GAAU,SAAVA,EAAWC,GAAD,OAAuB,SAACd,GAI3C,OAHAA,EAAS,CACLjG,KAAMyF,KAEHU,MAAMvF,EAAU,CACnBwF,OAAQ,MACRC,QAAS,CACL,eAAgB,mBAChB,cAAiB7D,EAAU,kBAG9Bd,KAA2BJ,GAC3BI,MAAK,SAAAH,GACF,GAAIA,EAAIgF,QAQJ,OAPAN,EAAS,CACLjG,KAAM0F,GACNsB,KAAK,2BACEzF,EAAIyF,MADP,IAEAD,SAAUA,OAGX,EAEP,MAAM,IAAIP,MAAMjF,EAAI0F,eAG3BN,OAAM,SAAAC,GACmB,gBAAlBA,EAAMH,SAA+C,sBAAlBG,EAAMH,QACzCR,EAASF,GAAae,EAAQC,MAE9Bd,EAAS,CACLjG,KAAM2F,KAEVvC,EAAc,CAAC,cAAe,iBAC9ByD,MAAMD,EAAMH,eAKfS,GAAa,SAAbA,EAAcC,GAAD,OAAiB,SAAClB,GAIxC,OAHAA,EAAS,CACLjG,KAAM4F,KAEHO,MAAMvF,EAAU,CACnBwF,OAAQ,QACRC,QAAS,CACL,eAAgB,mBAChB,cAAiB7D,EAAU,gBAE/B8D,KAAMc,KAAKC,UAAUF,KAEpBzF,KAA2BJ,GAC3BI,MAAK,SAAAH,GACF,GAAIA,EAAIgF,QAQJ,OAPAN,EAAS,CACLjG,KAAM6F,GACNmB,KAAK,2BACEzF,EAAIyF,MADP,IAEAD,SAAUI,EAAKJ,cAGhB,EAEP,MAAM,IAAIP,MAAMjF,EAAI0F,eAG3BN,OAAM,SAAAC,GACmB,gBAAlBA,EAAMH,SAA+C,sBAAlBG,EAAMH,QACzCR,EAASF,GAAamB,EAAWC,MAEjClB,EAAS,CACLjG,KAAM8F,KAEV1C,EAAc,CAAC,cAAe,iBAC9ByD,MAAMD,EAAMH,eCzSfa,GAA+C,uBAC/CC,GAA+C,uBAC/CC,GAAyC,oBACzCC,GAA6B,cAE7BC,GAAc,SAAdA,EAAejE,GAAD,8CAAgC,WAAOwC,GAAP,iBAAAC,EAAA,6DACvDD,EAAS,CACLjG,KAAMsH,KAF6C,kBAKjCnB,MAAMxF,EAAW,CAC/ByF,OAAQ,OACRC,QAAS,CACL,eAAgB,mBAChB,cAAiB7D,EAAU,gBAE/B8D,KAAMc,KAAKC,UAAU,CAAC5D,kBAXyB,cAK7ClC,EAL6C,gBAaRD,EAAcC,GAbN,YAa7CoG,EAb6C,QAczCpB,QAdyC,iBAe/CN,EAAS,CACLjG,KAAMoB,IAEV6E,EAAS,CACLjG,KAAMuH,GACNK,MAAOD,EAAMC,QApB8B,8BAuBzC,IAAIpB,MAAMmB,EAAMV,YAvByB,0DA0B7B,gBAAlB,KAAMR,SAA+C,sBAAlB,KAAMA,QACzCR,EAASF,GAAa2B,EAAYjE,MAElCwC,EAAS,CACLjG,KAAMwH,KAEVpE,EAAc,CAAC,cAAe,iBAC9ByD,MAAM,KAAMJ,UAjCmC,0DAAhC,uDCFrBoB,GAAyBvF,SAASwF,eAAe,gBAgDxCC,OA9Cf,YAAiD,IAAjCC,EAAgC,EAAhCA,SAAUzI,EAAsB,EAAtBA,OAChB0G,EAAWgC,cACX3H,EAAUC,cACHqH,EAASM,aAAY,SAACC,GAAD,OAA4BA,EAAMP,SAA7DT,KAED9G,EAAa+H,uBAAY,SAAC9H,GACxBsH,EACA3B,EAAS,CACLjG,KAAMyH,KAGVnH,EAAQ+H,WAEb,CAACT,EAAO3B,IAcX,OAZAqC,qBAAU,WACN,IAAMC,EAAY,SAACC,GLlBA,KKmBXA,EAAMC,SACNpI,EAAWC,IAInB,OADAgC,SAASoG,iBAAiB,UAAWH,GAC9B,WACHjG,SAASqG,oBAAoB,UAAWJ,MAE7C,CAACtC,EAAU3F,EAASD,IAEhBuI,IAASC,aAER,qCACI,sBAAKxJ,UAAWyJ,IAAYC,MAA5B,UACI,sBAAK1J,UAAWyJ,IAAYE,eAA5B,UACI,oBAAI3J,UAAU,4BAAd,SAA2CE,IAC3C,cAAC,YAAD,CAAWS,KAAK,UAAUQ,QAAS,WAC/BH,EAAWC,SAGlB0H,KAEL,cAAC,EAAD,CAAc3H,WAAYA,OAGlCwH,K,oBClBOoB,OA/Bf,YAAgE,IAApCC,EAAmC,EAAnCA,QACjB5E,EAAM6E,cAAN7E,GACAZ,EAASwE,aAAY,SAACC,GAAD,OAA4BA,EAAM1E,eAAvDC,MAED0F,EAAmC,OAAGF,QAAH,IAAGA,IAAWxF,EAAMG,MAAK,SAAAN,GAAE,OAAIA,EAAGQ,MAAQO,KAE7E+E,EAAsC,CACxCC,SAAU,uEACVC,SAAU,yCACVC,IAAK,mCACLC,cAAe,4DAGnB,OACIL,EAAa,sBAAK/J,UAAWqK,KAAwBC,kBAAxC,UACT,qBAAKC,IAAKR,EAAWrH,KAAM8H,IAAKT,EAAWU,cAC3C,oBAAIzK,UAAU,6BAAd,SAA4C+J,EAAWrH,OACvD,qBAAK1C,UAAWqK,KAAwBK,kBAAxC,SACKC,OAAOzF,KAAK8E,GAAkBY,KAAI,SAACC,GAChC,OACI,gCACI,4BAAIb,EAAiBa,KACrB,4BAAId,EAAWc,OAFTA,WAOjB,M,oBCjCF,OAA0B,oCCM1B,SAASC,KACpB,IAAavC,EAASM,aAAY,SAACC,GAAD,OAA4BA,EAAMP,SAA7DT,KACP,OAAOS,EACH,sBAAKvI,UAAW+K,KAAmBC,aAAnC,UACI,8BAAK,mBAAGhL,UAAS,UAAK+K,KAAmBE,QAAxB,gCAAZ,SAA4E1C,EAAM2C,WACvF,8BAAK,mBAAGlL,UAAU,uCAAb,mIACL,qBAAKA,UAAS,UAAK+K,KAAmBI,YAAxB,cAAd,SAA+D,qBAAKX,IAAKY,GAAab,IAAI,cAC1F,sBAAKvK,UAAU,OAAf,UACI,mBAAGA,UAAU,8BAAb,qJACA,mBAAGA,UAAU,kDAAb,kQAGC,K,oDClBF,I,OAAA,IAA0B,qC,oBCa1BqL,GATC,SAAC,GAAoC,IAAnCC,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,KACvB,OACI,yBAASvL,UAAWC,KAAOuL,QAA3B,SACKF,IAAYC,EAAO,qBAAKvL,UAAWC,KAAOwL,WAAYjB,IAAKkB,GAAKnB,IAAI,eACjE,mBAAGvK,UAAWC,KAAOsH,MAArB,mT,oGCuCDoE,GAvCU,SAAC,GAAoC,IAAD,EAAlClH,EAAkC,EAAlCA,KACjBmH,EAAWC,cACXC,EAAerH,EAAI,IACnBsH,EAASlD,aAAY,SAACC,GAAD,OAA4BA,EAAMiD,UACvDC,EAASvH,EAAKC,IACduH,EAAoB,QAAdxH,EAAK9D,OAAkB,UAAAoL,EAAOG,WAAP,eAAYxH,OAAQD,EAAKC,IAAM,EAAkB,QAAdD,EAAK9D,KAAiBoL,EAAOI,OAAOC,QAAO,SAAAlI,GAAE,OAAIA,EAAGQ,MAAQD,EAAKC,OAAKjB,OAAS,EAErJ,EAA4B4I,aAAQ,CAChC1L,KAAM,aACN8D,KAAM,CAACuH,UACPM,QAAS,SAAAC,GAAO,MAAK,CACjBC,OAAQD,EAAQE,iBAJxB,oBAAQD,EAAR,KAAQA,OAASE,EAAjB,KAQA,OACKF,EAmBG,KAlBA,eAAC,IAAD,CACIxM,UAAW2M,KAAuBC,SAClCC,IAAKH,EACLnM,GAAI,CACAuM,SAAS,gBAAD,OAAkBhB,GAC1BiB,MAAO,CAACC,WAAYpB,IAL5B,UAQKK,EAAM,GAAK,cAAC,UAAD,CAASgB,MAAOhB,EAAKiB,KAAK,YACtC,sBAAKlN,UAAW2M,KAAuBQ,gBAAvC,UACI,qBAAK3C,IAAK/F,EAAKK,MAAOyF,IAAK9F,EAAK/B,OAChC,uBACI1C,UAAW2M,KAAuBS,cADtC,UACsD3I,EAAKO,MACvD,cAAC,eAAD,CACIrE,KAAK,eACb,oBAAIX,UAAW2M,KAAuBU,cAAtC,SAAsD5I,EAAK/B,cCjC/E,SAAS4K,KACL,IAAOjJ,EAASwE,aAAY,SAACC,GAAD,OAA4BA,EAAM1E,eAAvDC,MACP,EAAwBkJ,mBAAS,CAC7B,CACItI,GAAI,MACJvC,KAAM,iCACN8K,QAAQ,GAEZ,CACIvI,GAAI,QACJvC,KAAM,iCACN8K,QAAQ,GAEZ,CACIvI,GAAI,OACJvC,KAAM,6CACN8K,QAAQ,KAdhB,oBAAOC,EAAP,KAAaC,EAAb,KAkBMC,EAAYC,iBAAuB,MACrCC,EAAYD,iBAAuB,MACnCE,EAAaF,iBAAuB,MACpCG,EAAcH,iBAAuB,MAEnCI,EAAYjF,uBAAY,SAACkF,GAC3BP,EAAQ,aACDD,EAAK7C,KAAI,SAAA1G,GACR,OAAIA,EAAGe,KAAOgJ,EACH,2BACA/J,GADP,IAEIsJ,QAAQ,IAGL,2BACAtJ,GADP,IAEIsJ,QAAQ,WAKzB,CAACC,IAEJxE,qBAAU,WACN,IAAMiF,EAAkBP,EAAUQ,QAC5BC,EAAqB,SAACjF,GAA0C,IAAD,MAC7DkF,EAAclF,EAAMmF,cAAcC,WACtC,OAAIZ,QAAJ,IAAIA,GAAJ,UAAIA,EAAWQ,eAAf,aAAI,EAAoBK,aACpBH,GAAeV,EAAUQ,QAAQK,YAEvB,OAAVV,QAAU,IAAVA,GAAA,UAAAA,EAAYK,eAAZ,eAAqBK,YAAaH,EAAcP,EAAWK,QAAQK,UAAY,EAC/ER,EAAU,SACQ,OAAXD,QAAW,IAAXA,GAAA,UAAAA,EAAaI,eAAb,eAAsBK,YAAaH,EAAcN,EAAYI,QAAQK,UAAY,EACxFR,EAAU,SAEVA,EAAU,QAIlB,OADe,OAAfE,QAAe,IAAfA,KAAiB7E,iBAAiB,SAAU+E,GACrC,WACY,OAAfF,QAAe,IAAfA,KAAiB5E,oBAAoB,SAAU8E,MAEpD,CAACJ,IAEJ,IAAMS,EAAoB1F,uBAAY,SAACkF,GAAS,IAAD,EAC3C,UAAIJ,QAAJ,IAAIA,GAAJ,UAAIA,EAAWM,eAAf,aAAI,EAAoBK,UAAW,CAAC,IAAD,MAET,EADhBE,GAA8B,OAATb,QAAS,IAATA,GAAA,UAAAA,EAAWM,eAAX,eAAoBK,WAAY,GAC3D,GAAe,QAAXP,EAAIhJ,GACK,OAAT0I,QAAS,IAATA,GAAA,UAAAA,EAAWQ,eAAX,SAAoBQ,SAAS,EAAG,QAC7B,GAAe,UAAXV,EAAIhJ,KAAJ,OAAsB8I,QAAtB,IAAsBA,GAAtB,UAAsBA,EAAaI,eAAnC,aAAsB,EAAsBK,WAAW,CAAC,IAAD,EACrD,OAATb,QAAS,IAATA,GAAA,UAAAA,EAAWQ,eAAX,SAAoBQ,SAAS,EAAGZ,EAAYI,QAAQK,UAAYE,QAC7D,UAAGZ,QAAH,IAAGA,GAAH,UAAGA,EAAYK,eAAf,aAAG,EAAqBK,UAAW,CAAC,IAAD,IAC7B,OAATb,QAAS,IAATA,GAAA,UAAAA,EAAWQ,eAAX,SAAoBQ,SAAS,GAAa,OAAVb,QAAU,IAAVA,GAAA,UAAAA,EAAYK,eAAZ,eAAqBK,WAAYE,OAG1E,IAEH,OACI,yBAAS1O,UAAW4O,KAAwBC,YAA5C,SACI,gCACI,qBAAKC,MAAO,CAACC,QAAS,QAAtB,SACKtB,EAAK7C,KAAI,SAAC1G,EAAI8K,GACX,OACI,cAAC,MAAD,CAAKrM,MAAOuB,EAAGxB,KAAM8K,OAAQtJ,EAAGsJ,OAAoBrM,QAAS,kBAAMsN,EAAkBvK,IAArF,SACKA,EAAGxB,MADqCwB,EAAGe,SAM5D,sBAAK4H,IAAKc,EAAW3N,UAAW4O,KAAwBK,cAAxD,UACI,gCACI,oBAAIpC,IAAKgB,EAAT,4CACA,qBAAK7N,UAAW4O,KAAwBM,KAAxC,SACK7K,EAAM+H,QAAO,SAAAlI,GAAE,MAAgB,QAAZA,EAAGvD,QAAgBiK,KAAI,SAAC1G,EAAI8K,GAC5C,OACI,cAAC,GAAD,CAA+BvK,KAAMP,GAAdA,EAAGQ,aAK1C,gCACI,oBAAImI,IAAKkB,EAAT,4CACA,qBAAK/N,UAAW4O,KAAwBM,KAAxC,SACK7K,EAAM+H,QAAO,SAAAlI,GAAE,MAAgB,UAAZA,EAAGvD,QAAkBiK,KAAI,SAAC1G,EAAI8K,GAC9C,OACI,cAAC,GAAD,CAA+BvK,KAAMP,GAAdA,EAAGQ,aAK1C,gCACI,oBAAImI,IAAKiB,EAAT,wDACA,qBAAK9N,UAAW4O,KAAwBM,KAAxC,SACK7K,EAAM+H,QAAO,SAAAlI,GAAE,MAAgB,SAAZA,EAAGvD,QAAiBiK,KAAI,SAAC1G,EAAI8K,GAC7C,OACI,cAAC,GAAD,CAA+BvK,KAAMP,GAAdA,EAAGQ,qBAW/CyK,WAAMC,KAAK9B,I,wEC3DX+B,GAlEY,SAAC,GAAgF,IAA/EpK,EAA8E,EAA9EA,GAAI+J,EAA0E,EAA1EA,MAAOM,EAAmE,EAAnEA,SAAU5M,EAAyD,EAAzDA,KAAMqC,EAAmD,EAAnDA,aAAcC,EAAqC,EAArCA,MAC5D6H,EAAMe,iBAA8B,MACpChH,EAAWgC,cACjB,EAA4B2G,aAAQ,CAChCC,OAAQ,aACRlD,QAFgC,SAExBC,GACJ,MAAO,CACHkD,UAAWlD,EAAQmD,iBAG3BC,MAPgC,SAO1BlL,EAAkC8H,GAAU,IAAD,EAC7C,GAAKM,EAAIsB,QAAT,CAGA,IAAMyB,EAAYnL,EAAKuK,MACjBa,EAAab,EACnB,GAAIY,IAAcC,EAAlB,CAGA,IAAMC,EAAiB,UAAGjD,EAAIsB,eAAP,aAAG,EAAa4B,wBACjCC,GAAgBF,EAAkBG,OAASH,EAAkBI,KAAO,EACpEC,EAAe5D,EAAQ6D,kBACzBC,EAAeP,EAAkBI,IACjCC,IACAE,EAAeF,EAAaG,EAAIR,EAAkBI,KAElDN,EAAYC,GAAcQ,EAAeL,GAGzCJ,EAAYC,GAAcQ,EAAeL,IAG7CV,EAASM,EAAWC,GACpBpL,EAAKuK,MAAQa,QA9BrB,oBAAQJ,EAAR,KAAQA,UAAYc,EAApB,KAiCA,EAA6BlE,aAAQ,CACjC1L,KAAM,aACN8D,KAAM,WACF,MAAO,CAACQ,KAAI+J,UAEhB1C,QAAS,SAACC,GAAD,MAAc,CACnBE,WAAYF,EAAQE,iBAN5B,oBASM+D,EATN,KAAQ/D,WASqB,EAAI,EAEjC,OADAgE,EAVA,MAUKF,EAAK1D,IAEN,sBAAKA,IAAKA,EAAKiC,MAAO,CAAC0B,WAAU,kBAAiBf,EAC7CzP,UAAW0Q,KAAyBC,WADzC,UAEI,cAAC,WAAD,CAAUhQ,KAAK,YACf,cAAC,qBAAD,CACIiQ,KAAMlO,EACNsC,MAAOA,EACP6L,UAAW9L,EACX+L,YAAa,WACTlK,EAAS,CACLjG,KAAMmB,EACNiP,SAAU9L,W,UCmEnB+L,OAnHf,WACI,MAAsBnI,aAAY,SAACC,GAAD,OAA4BA,EAAMiD,UAA7DI,EAAP,EAAOA,OAAQD,EAAf,EAAeA,IACR7H,EAASwE,aAAY,SAACC,GAAD,OAA4BA,EAAM1E,eAAvDC,MACDpD,EAAUC,cACViE,EAAa8L,mBAAQ,WACvB,OAAO9E,EAAO+E,QAAO,SAAUC,EAAKC,GAChC,IAAIpM,EAAQoM,EAAIpM,MAIhB,MAHiB,QAAboM,EAAIzQ,OACJqE,GAASoM,EAAIpM,OAEVmM,EAAMnM,IACd,IAAMkH,EAAkB,EAAZA,EAAIlH,MAAY,KAChC,CAACmH,EAAQD,IAENtF,EAAWgC,cACX0G,EAAWvG,uBAAY,SAAC6G,EAAWC,GACrC,IAAMwB,EAAWlF,EAAOyD,GACxBhJ,EAAS,CACLjG,KAAMqB,EACNsP,QAASC,KAAOpF,EAAQ,CACpBqF,QAAS,CACL,CAAC5B,EAAW,GACZ,CAACC,EAAY,EAAGwB,UAI7B,CAAClF,EAAQvF,IAcZ,EAAgC2I,aAAQ,CACpCC,OAAQ,aACRe,KAFoC,SAE/B9L,GACDmC,EAAS,CACLjG,KAAMkB,EACN4C,KAAMJ,EAAMG,MAAK,SAAAN,GAAE,OAAIA,EAAGQ,MAAQD,EAAKuH,UACvC+E,SAAUtM,EAAKuH,OAASyF,mBAGhCnF,QAAS,SAAAC,GAAO,MAAK,CACjBmF,QAASnF,EAAQoF,aAVzB,oBAAQD,EAAR,KAAQA,QAAUE,EAAlB,KAaMC,EAAcH,EAAU,UAAY,cAa1C,OACI,0BAAS1R,UAAW8R,KAAwBC,aAA5C,UACI,qBAAKlF,IAAK+E,EAAY5R,UAAW8R,KAAwBE,KAAMlD,MAAO,CAAC+C,eAAvE,SACK1F,EAAO1I,OAAS,GAAKyI,EAClB,qCACI,8BACKA,GACG,cAAC,qBAAD,CACIvL,KAAK,MACLsR,UAAU,EACVrB,KAAI,UAAK1E,EAAIxJ,KAAT,+BACJsC,MAAOkH,EAAIlH,MACX6L,UAAW3E,EAAInH,iBAI3B,qBAAK/E,UAAW8R,KAAwB1N,YAAxC,SACK+H,EAAOC,QAAO,SAAAlI,GAAE,MAAgB,QAAZA,EAAGvD,QAAgBiK,KAAI,SAACsH,EAAM1O,GAAP,OAxDjD,SAAC0O,EAAmBlD,GAAmB,IAAD,EACrD,OACI,cAAC,GAAD,CAEIA,MAAOA,EACP/J,GAAE,UAAEiN,EAAKnB,gBAAP,QAAmB,GACrB/L,MAAOkN,EAAKlN,MACZtC,KAAMwP,EAAKxP,KACXqC,aAAcmN,EAAKnN,aACnBuK,SAAUA,GANL4C,EAAKnB,UAqD2DoB,CAAWD,EAAM1O,QAE9E,8BACK0I,GACG,cAAC,qBAAD,CACIvL,KAAK,SACLsR,UAAU,EACVrB,KAAI,UAAK1E,EAAIxJ,KAAT,yBACJsC,MAAOkH,EAAIlH,MACX6L,UAAW3E,EAAInH,oBAM/B,qBAAK/E,UAAW8R,KAAwBM,UAAxC,SACI,yJAIZ,sBAAKpS,UAAW8R,KAAwBO,SAAxC,UACI,sBAAKrS,UAAW8R,KAAwBQ,MAAxC,UAAgDnN,EAAhD,IAA4D,cAAC,eAAD,CAAcxE,KAAK,eAC/E,8BACI,cAAC,SAAD,CAAQQ,QAnDG,WACvB,OAAKgC,EAAU,gBAGFgJ,GAAUD,OAIvBtF,EAASyB,GAAY,GAAD,oBAAK8D,GAAL,CAAaD,EAAKA,OAHlC1E,MAAM,wBACC,IAJPvG,EAAQmE,KAAK,WACN,IAgDsCzE,KAAK,UAClCuM,KAAK,QADb,sGClHPqF,GAAW,WACpB,MAAuD1J,aAAY,SAACC,GAAD,OAA4BA,EAAM1E,eAA9FC,EAAP,EAAOA,MAAOmO,EAAd,EAAcA,mBAAoBC,EAAlC,EAAkCA,kBAClC,OACI,qCACI,uHACA,sBAAMzS,UAAWC,KAAOyS,QAAxB,SACI,eAACC,GAAA,EAAD,CAAaC,QAASC,KAAtB,UACKxO,EAAMZ,OAAS,EAAI,cAAC,GAAD,IAChB,cAAC,GAAD,CAAS6H,QAASkH,EAAoBjH,KAAMkH,IAEhD,cAAC,GAAD,a,oBCbPK,GAAY,WACrB,IAAMlM,EAAWgC,cAEjB,EAA0B2E,mBAAS,IAAnC,oBAAOwF,EAAP,KAAcC,EAAd,KACA,EAAgCzF,mBAAS,IAAzC,oBAAO7F,EAAP,KAAiBuL,EAAjB,KASA,OACI,qBAAKjT,UAAWC,KAAOiT,aAAvB,SACI,sBAAKlT,UAAWC,KAAOkT,aAAvB,UACI,mBAAGnT,UAAS,qCAAgCC,KAAOmT,WAAnD,sCACA,uBAAMC,SAXD,SAACC,GACdA,EAAEC,iBACER,GAASrL,GACTd,EbyDS,SAACmM,EAAerL,GAAhB,OAAqC,SAACd,GAIvD,OAHAA,EAAS,CACLjG,KAAM0E,IAEHyB,MHzEc,mDGyEG,CACpBC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMc,KAAKC,UAAU,CAAC+K,QAAOrL,eAE5BrF,KAAKJ,GACLI,MAAK,SAAAH,GACF,IAAIA,EAAIgF,QAWJ,MAAM,IAAIC,MAAMjF,EAAIkF,SAVpB3E,EAAU,cAAeP,EAAImF,YAAa,CAAC,UAAW7F,IACtDiB,EAAU,eAAgBP,EAAIwE,aAAc,CAAC,UAAWlF,IACxDoF,EAAS,CACLjG,KAAM2E,EACNqC,KAAK,2BACEzF,EAAIyF,MADP,IAEAD,SAAUA,SAOzBJ,OAAM,SAAAC,GACHX,EAAS,CACLjG,KAAM4E,IAEViC,MAAMD,EAAMH,aaxFHoM,CAAMT,EAAOrL,KAQQ1H,UAAWC,KAAOwT,KAA5C,UACI,qBAAKzT,UAAWC,KAAOyT,aAAvB,SACI,cAAC,QAAD,CACI/S,KAAM,QACNgT,YAAa,SACbC,SAAU,SAAAN,GAAC,OAAIN,EAASM,EAAEO,OAAOlR,QACjCD,KAAM,QACNwK,KAAM,UACNvK,MAAOoQ,MAGf,qBAAK/S,UAAWC,KAAOyT,aAAvB,SACI,cAAC,gBAAD,CACIhR,KAAM,WACNC,MAAO+E,EACPkM,SAAU,SAAAN,GAAC,OAAIL,EAAYK,EAAEO,OAAOlR,YAG5C,qBAAK3C,UAAWC,KAAO6T,cAAvB,SACI,cAAC,SAAD,CAAQnT,KAAK,UAAUuM,KAAK,SAA5B,2CAKR,gCACI,oBAAGlN,UAAS,sCAAiCC,KAAO8T,WAApD,0IAA0F,cAAC,IAAD,CACtF/T,UAAWC,KAAO+T,KAAMzT,GAAG,YAD2D,6HAE1F,oBAAGP,UAAS,sCAAiCC,KAAO8T,WAApD,wFAAgF,cAAC,IAAD,CAC5E/T,UAAWC,KAAO+T,KAAMzT,GAAG,mBADiD,uI,oBC5CvF0T,GAAe,WACxB,MAAwB1G,mBAAS,IAAjC,oBAAO7K,EAAP,KAAawR,EAAb,KACA,EAA0B3G,mBAAS,IAAnC,oBAAOwF,EAAP,KAAcC,EAAd,KACA,EAAgCzF,mBAAS,IAAzC,oBAAO7F,EAAP,KAAiBuL,EAAjB,KAEMrM,EAAWgC,cACXuL,EAAepL,uBAAY,SAACuK,GAC9BA,EAAEC,iBACF3M,Ed8HgB,SAACmM,EAAerL,EAAkBhF,GAAlC,OAAmD,SAACkE,GAIxE,OAHAA,EAAS,CACLjG,KAAMgF,IAEHmB,MH5IiB,sDG4IG,CACvBC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMc,KAAKC,UAAU,CAAC+K,QAAOrL,WAAUhF,WAEtCL,KAAKJ,GACLI,MAAK,SAAAH,GACF,IAAIA,EAAIgF,QAWJ,MAAM,IAAIC,MAAMjF,EAAIkF,SAVpB3E,EAAU,cAAeP,EAAImF,YAAa,CAAC,UAAW7F,IACtDiB,EAAU,eAAgBP,EAAIwE,aAAc,CAAC,UAAWlF,IACxDoF,EAAS,CACLjG,KAAMiF,EACN+B,KAAK,2BACEzF,EAAIyF,MADP,IAEAD,SAAUA,SAMvBJ,OAAM,SAAAC,GACLX,EAAS,CACLjG,KAAMkF,IAEV2B,MAAMD,EAAMH,ac5JPgN,CAASrB,EAAOrL,EAAUhF,MACpC,CAACkE,EAAUmM,EAAOrL,EAAUhF,IAC/B,OACI,qBAAK1C,UAAWC,KAAOiT,aAAvB,SACI,sBAAKlT,UAAWC,KAAOkT,aAAvB,UACI,mBAAGnT,UAAS,qCAAgCC,KAAOmT,WAAnD,gFACA,uBAAMpT,UAAWC,KAAOwT,KAAMJ,SAAUc,EAAxC,UACI,qBAAKnU,UAAWC,KAAOyT,aAAvB,SACI,cAAC,QAAD,CACI/S,KAAM,OACNgT,YAAa,qBACbC,SAAU,SAAAN,GAAC,OAAIY,EAAQZ,EAAEO,OAAOlR,QAChCD,KAAM,OACNwK,KAAM,UACNvK,MAAOD,MAGf,qBAAK1C,UAAWC,KAAOyT,aAAvB,SACI,cAAC,QAAD,CACI/S,KAAM,QACNgT,YAAa,SACbC,SAAU,SAAAN,GAAC,OAAIN,EAASM,EAAEO,OAAOlR,QACjCD,KAAM,QACNwK,KAAM,UACNvK,MAAOoQ,MAGf,qBAAK/S,UAAWC,KAAOyT,aAAvB,SACI,cAAC,gBAAD,CACIhR,KAAM,WACNC,MAAO+E,EACPkM,SAAU,SAAAN,GAAC,OAAIL,EAAYK,EAAEO,OAAOlR,YAG5C,qBAAK3C,UAAWC,KAAO6T,cAAvB,SACI,cAAC,SAAD,CAAQnT,KAAK,UAAUuM,KAAK,SAA5B,+HAKR,8BACI,oBAAGlN,UAAS,sCAAiCC,KAAO8T,WAApD,kIAAuF,cAAC,IAAD,CACnF/T,UAAWC,KAAO+T,KAAMzT,GAAG,SADwD,uD,oBCjD9F8T,GAAqB,WAC9B,MAA0B9G,mBAAS,IAAnC,oBAAOwF,EAAP,KAAcC,EAAd,KACMpM,EAAWgC,cAEX0L,EAAavL,uBAAY,SAACuK,GAC5BA,EAAEC,iBACER,GACAnM,EfiKkB,SAACmM,GAAD,OAAmB,SAACnM,GAI9C,OAHAA,EAAS,CACLjG,KAAMmF,IAEHgB,MH3KwB,uDG2KG,CAC9BC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMc,KAAKC,UAAU,CAAC+K,YAErB1Q,KAAKJ,GACLI,MAAK,SAAAH,GACF,IAAIA,EAAIgF,QAKJ,MAAM,IAAIC,MAAMjF,EAAIkF,SAJpBR,EAAS,CACLjG,KAAMoF,OAKfuB,OAAM,SAAAC,GACLX,EAAS,CACLjG,KAAMqF,IAEVwB,MAAMD,EAAMH,aezLHmN,CAAexB,MAE7B,CAACnM,EAAUmM,IAEd,OACI,qBAAK/S,UAAWC,KAAOiT,aAAvB,SACI,sBAAKlT,UAAWC,KAAOkT,aAAvB,UACI,mBAAGnT,UAAS,qCAAgCC,KAAOmT,WAAnD,uIACA,uBAAMC,SAAUiB,EAAYtU,UAAWC,KAAOwT,KAA9C,UACI,qBAAKzT,UAAWC,KAAOyT,aAAvB,SACI,cAAC,QAAD,CACI/S,KAAM,QACNgT,YAAa,SACbC,SAAU,SAAAN,GAAC,OAAIN,EAASM,EAAEO,OAAOlR,QACjCD,KAAM,QACNwK,KAAM,UACNvK,MAAOoQ,MAGf,qBAAK/S,UAAWC,KAAO6T,cAAvB,SACI,cAAC,SAAD,CAAQnT,KAAK,UAAUuM,KAAK,SAA5B,2FAKR,8BACI,oBAAGlN,UAAS,sCAAiCC,KAAO8T,WAApD,0GAAmF,cAAC,IAAD,CAC/E/T,UAAWC,KAAO+T,KAAMzT,GAAG,SADoD,uD,oBChC1FiU,GAAoB,WAC7B,MAAgCjH,mBAAS,IAAzC,oBAAO7F,EAAP,KAAiBuL,EAAjB,KACA,EAAwB1F,mBAAS,IAAjC,oBAAOkH,EAAP,KAAaC,EAAb,KAEM9N,EAAWgC,cACXjB,EAAOkB,aAAY,SAACC,GAAD,OAA4BA,EAAMnB,QACrD2M,EAAavL,uBAAY,SAACuK,GAC5BA,EAAEC,iBACEkB,GAAQ/M,GACRd,EhB0LiB,SAACc,EAAkBiN,GAAnB,OAAqC,SAAC/N,GAI/D,OAHAA,EAAS,CACLjG,KAAMsF,IAEHa,MHtMuB,6DGsMG,CAC7BC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMc,KAAKC,UAAU,CAACN,WAAUiN,YAE/BtS,KAAKJ,GACLI,MAAK,SAAAH,GACF,IAAIA,EAAIgF,QAKJ,MAAM,IAAIC,MAAMjF,EAAIkF,SAJpBR,EAAS,CACLjG,KAAMuF,QAKfoB,OAAM,SAAAC,GACLX,EAAS,CACLjG,KAAMwF,KAEVqB,MAAMD,EAAMH,agBlNHwN,CAAclN,EAAU+M,MAEtC,CAAC/M,EAAU+M,EAAM7N,IAEpB,OACIe,EAAKiN,cAAc1N,QAAU,cAAC,IAAD,CAAU3G,GAAI,CAACuM,SAAU,YAClD,qBAAK9M,UAAWC,KAAOiT,aAAvB,SACI,sBAAKlT,UAAWC,KAAOkT,aAAvB,UACI,mBAAGnT,UAAS,qCAAgCC,KAAOmT,WAAnD,uIACA,uBAAMC,SAAUiB,EAAYtU,UAAWC,KAAOwT,KAA9C,UACI,qBAAKzT,UAAWC,KAAOyT,aAAvB,SACI,cAAC,gBAAD,CACIhR,KAAM,WACNC,MAAO+E,EACPkM,SAAU,SAAAN,GAAC,OAAIL,EAAYK,EAAEO,OAAOlR,YAG5C,qBAAK3C,UAAWC,KAAOyT,aAAvB,SACI,cAAC,QAAD,CACI/S,KAAM,OACNgT,YAAa,kHACbC,SAAU,SAAAN,GAAC,OAAIoB,EAAQpB,EAAEO,OAAOlR,QAChCD,KAAM,OACNwK,KAAM,UACNvK,MAAO8R,MAGf,qBAAKzU,UAAWC,KAAO6T,cAAvB,SACI,cAAC,SAAD,CAAQnT,KAAK,UAAUuM,KAAK,SAA5B,yEAKR,8BACI,oBAAGlN,UAAS,sCAAiCC,KAAO8T,WAApD,0GAAmF,cAAC,IAAD,CAC/E/T,UAAWC,KAAO+T,KAAMzT,GAAG,SADoD,uD,oBCnD5F,OAA0B,gCCG5BsU,GAAe,WACxB,OACI,sBAAK7U,UAAWC,KAAOyS,QAAvB,UACI,mBAAG1S,UAAS,oCAA+BC,KAAO8T,WAAlD,2FACA,qBAAKvJ,IAAKsK,GAAevK,IAAI,uB,qBCE5BwK,GAAkB,WAAO,IAAD,EACjC,EAAuDlM,aAAY,SAACC,GAAD,OAA4BA,EAAM1E,eAA9FC,EAAP,EAAOA,MAAOmO,EAAd,EAAcA,mBAAoBC,EAAlC,EAAkCA,kBAC3BxN,EAAM6E,cAAN7E,GACD8E,EAAa1F,EAAMZ,OAAS,GAAf,UAAmBY,EAAMG,MAAK,SAAAN,GAAE,OAAIA,EAAGQ,MAAQO,YAA/C,QAA6D,KAChF,OACI8E,EACI,qCACI,oBAAI/J,UAAS,oCAA+BC,KAAO+U,SAAnD,qHACA,cAAC,GAAD,CAAmBnL,QAASE,OAEhCyI,EAAqB,cAAC,GAAD,CAASlH,QAASkH,EAAoBjH,KAAMkH,IACjE,cAAC,GAAD,K,wCCdG,SAASwC,KACpB,IAAMrO,EAAWgC,cAMjB,OACI,qCACI,qBAAI5I,UAAWC,KAAOiV,YAAtB,UACI,oBAAIlV,UAAS,YAAb,SACI,cAAC,IAAD,CAASM,OAAK,EAACC,GAAG,WACTP,UAAS,qCAAgCC,KAAOkV,aAChD1U,gBAAiBR,KAAOmV,kBAFjC,0DAIJ,oBAAIpV,UAAS,YAAb,SACI,cAAC,IAAD,CAASM,OAAK,EAACC,GAAG,kBAAkBP,UAAS,qCAAgCC,KAAOkV,aAC3E1U,gBAAiBR,KAAOmV,kBADjC,qGAIJ,oBAAIpV,UAAS,YAAb,SACI,cAAC,IAAD,CAAMO,GAAG,UAAUY,QAlBf,SAACmS,GACjBA,EAAEC,iBACF3M,GpBiGoB,SAACA,GAIzB,OAHAA,EAAS,CACLjG,KAAM6E,IAEHsB,MH1Ge,oDG0GG,CACrBC,OAAQ,OACRC,QAAS,CACL,eAAgB,oBAEpBC,KAAMc,KAAKC,UAAU,CACjB,MAAS7E,EAAU,oBAGtBd,KAAKJ,GACLI,KAVE,uCAUG,WAAMH,GAAN,SAAA2E,EAAA,0DACE3E,EAAIgF,QADN,gBAEEpD,EAAa,eACbA,EAAa,gBACb8C,EAAS,CACLjG,KAAM8E,IALZ,4BAQQ,IAAI0B,MAAMjF,EAAIkF,SARtB,2CAVH,uDAqBFE,OAAM,SAAAC,GACHX,EAAS,CACLjG,KAAM+E,IAEV8B,MAAMD,EAAMH,gBoB7GEpH,UAAS,qCAAgCC,KAAOkV,aADtD,iDAIR,mBAAGnV,UAAS,sCAAiCC,KAAOoV,MAApD,qU,wBCvBG,SAASC,KAAe,IAAD,MAClC,EAAqCzM,aAAY,SAACC,GAAD,OAA4BA,EAAMnB,QAAtEA,EAAb,EAAOG,KAAYyN,EAAnB,EAAmBA,eACbtU,EAAUC,cACVsU,EAAmB,CACrB9S,KAAI,iBAAEiF,QAAF,IAAEA,OAAF,EAAEA,EAAMjF,YAAR,QAAgB,GACpBqQ,MAAK,iBAAEpL,QAAF,IAAEA,OAAF,EAAEA,EAAMoL,aAAR,QAAiB,GACtBrL,SAAQ,iBAAEC,QAAF,IAAEA,OAAF,EAAEA,EAAMD,gBAAR,QAAoB,IAEhC,EAAgC6F,mBAASiI,GAAzC,oBAAOC,EAAP,KAAiBC,EAAjB,KACM9O,EAAWgC,cAEjBK,qBAAU,WAOO,OAATtB,GANe,uCAAG,sBAAAd,EAAA,sEACZD,EAASa,GAAO,OAACE,QAAD,IAACA,OAAD,EAACA,EAAMD,WADX,OAEd6N,EAAeI,QACf1U,EAAQ2U,QAAQ,CAAC9I,SAAU,WAHb,2CAAH,oDAOf+I,KAEL,CAACjP,EAAU3F,EAAS0G,EAApB,OAA0BA,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAMD,SAAU6N,EAAeI,SAE5D1M,qBAAU,WAAO,IAAD,MACZyM,EAAY,CACRhT,KAAI,iBAAEiF,QAAF,IAAEA,OAAF,EAAEA,EAAMjF,YAAR,QAAgB,GACpBqQ,MAAK,iBAAEpL,QAAF,IAAEA,OAAF,EAAEA,EAAMoL,aAAR,QAAiB,GACtBrL,SAAQ,iBAAEC,QAAF,IAAEA,OAAF,EAAEA,EAAMD,gBAAR,QAAoB,OAEjC,QAACC,QAAD,IAACA,OAAD,EAACA,EAAMjF,KAAP,OAAaiF,QAAb,IAAaA,OAAb,EAAaA,EAAMoL,MAAnB,OAA0BpL,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAMD,WAGnC,IAAMoO,EAAkB,SAACxC,GACrB,IAAM3Q,EAAQ2Q,EAAEhF,cAAc3L,MACxBD,EAAO4Q,EAAEhF,cAAc5L,KAE7BgT,EAAY,2BACLD,GADI,kBAEN/S,EAAOC,MAahB,OACI,sBAAK3C,UAAWC,KAAO8V,aAAvB,UACI,qBAAK/V,UAAWC,KAAO+V,SAAvB,SACI,uBAAM3C,SAZQ,SAACC,GACvBA,EAAEC,iBACF3M,EAASiB,GAAW4N,KAUZ,UACI,qBAAKzV,UAAWC,KAAOyT,aAAvB,SACI,cAAC,QAAD,CACI/S,KAAM,OACNgT,YAAa,qBACbC,SAAUkC,EACVpT,KAAM,OACNwK,KAAM,UACNvK,MAAO8S,EAAS/S,KAChBuT,KAAM,eAGd,qBAAKjW,UAAWC,KAAOyT,aAAvB,SACI,cAAC,QAAD,CACI/S,KAAM,QACNgT,YAAa,SACbC,SAAUkC,EACVpT,KAAM,QACNwK,KAAM,UACNvK,MAAO8S,EAAS1C,MAChBkD,KAAM,eAGd,qBAAKjW,UAAWC,KAAOyT,aAAvB,SACI,cAAC,QAAD,CACI/S,KAAM,WACNgT,YAAa,uCACbC,SAAUkC,EACVpT,KAAM,WACNwK,KAAM,UACNvK,MAAO8S,EAAS/N,SAChBuO,KAAM,eAGd,sBAAKjW,UAAWC,KAAO6T,cAAvB,UACI,mBAAGoC,KAAK,UAAUlW,UAAWC,KAAO+T,KAAM7S,QA1CxC,SAACmS,GACnBA,EAAEC,iBACFmC,EAAYF,IAwCI,kDACA,cAAC,SAAD,CAAQ7U,KAAK,UAAUuM,KAAK,SAA5B,4EAMZ,qBAAKlN,UAAWC,KAAOkW,e,wBCtCpBC,GAvDI,WACf,IAAMxK,EAAWC,cACVhJ,EAAQwT,cAARxT,KACP,EAAqCgG,aAAY,SAACC,GAAD,OAA4BA,EAAMwN,aAA5EC,EAAP,EAAOA,OAAQC,EAAf,EAAeA,YAAajP,EAA5B,EAA4BA,MAC5B,EAAuDsB,aAAY,SAACC,GAAD,OAA4BA,EAAM1E,eAA9FC,EAAP,EAAOA,MAAOmO,EAAd,EAAcA,mBAAoBC,EAAlC,EAAkCA,kBAClC,OACI8D,GAAUlS,EACV,oBAAIrE,UAAWC,KAAOwW,WAAtB,SACKF,GAAUA,EAAO3L,KAAI,SAAArC,GAAU,IAAD,EAC3B,GAAIA,EAAMnE,YAAYX,OAAS,GAAK8E,EAAMnE,YAAYsS,MAAK,SAAAxS,GAAE,OAAW,OAAPA,KAC7D,OAAO,KAEX,IAAMyS,EAAaxS,EAAmBoE,EAAMnE,YAAaC,GACzD,OACI,6BACI,eAAC,IAAD,CAAMrE,UAAWC,KAAO2W,UAClBrW,GAAI,CAACuM,SAAS,GAAD,OAAKjK,EAAL,YAAa0F,EAAM2C,QAAU6B,MAAO,CAACC,WAAYpB,IADpE,UAEI,sBAAK5L,UAAWC,KAAO4W,SAAvB,UACI,uBAAM7W,UAAWC,KAAO6W,QAAxB,cAAmCvO,EAAM2C,UACzC,uBACIlL,UAAU,kDADd,UACiE+W,KAAOxO,EAAMyO,WAAWC,OAAO,MAAMC,WADtG,iBAGM,oBAATrU,GAA8B,8BAC3B,mBAAG7C,UAAS,sCAAiCC,KAAOkX,YAAxC,YAAuDlX,KAAOsI,EAAM6O,SAAhF,SAA4F3V,EAAe8G,EAAM6O,YAErH,qBAAKpX,UAAS,qCAAgCC,KAAOoX,YAArD,SACI,uCAAK9O,EAAM7F,YAAX,QAAmB,OAEvB,sBAAK1C,UAAWC,KAAOqX,YAAvB,UACI,qBAAKtX,UAAWC,KAAO0W,WAAvB,SACKA,GAAcA,EAAWzR,KAAK0F,KAAI,SAAA2M,GAC/B,IAAKA,EACD,OAAO,KAEX,IAAMhT,EAAUoS,EAAW/R,SAAS2S,GACpC,OACI,sBAAkCvX,UAAWC,KAAOsX,UAApD,UACI,qBAAK/M,IAAKjG,EAAQO,MAAOyF,IAAKhG,EAAQ7B,OACrC6B,EAAQM,OAAS,GAAK,uBACnB7E,UAAU,8BADS,cACuBuE,EAAQM,YAHhD0D,EAAM7D,IAAMH,EAAQU,SAQ1C,sBAAKjF,UAAWC,KAAOkF,WAAvB,UAAmC,sBAC/BnF,UAAWC,KAAOuX,UADa,gBACDb,QADC,IACDA,OADC,EACDA,EAAYxR,aAD9C,IACiE,cAAC,eAAD,CAAcxE,KAAK,sBA/BvF4H,EAAM7D,UAsCvB,cAAC,GAAD,CAAS6G,QAAMkH,IAAqBlL,GAAsB+D,QAASkH,IAAuBgE,K,qBC/DzFiB,GAA6C,sBAC7CC,GAAiD,wBACjDC,GAA6C,sBAC7CC,GAA+C,uBAC/CC,GAA+C,uBAC/CC,GAAiC,gBCC/B,SAASC,KACpB,IAAMnR,EAAWgC,cAgBjB,OAfAK,qBAAU,WAQN,OAPArC,EAAS,CACLjG,KAAM8W,GACNnG,QAAS,CACL0G,I3BTc,yC2BUdC,QAAQ,KAGT,WACHrR,EAAS,CACLjG,KAAMiX,GACNtG,QAAS,SAGlB,CAAC1K,IAEA,yBAAS5G,UAAWC,KAAOiY,WAA3B,SACI,cAAC,GAAD,MClBL,IAAMC,GAAc,WACvB,OACI,sBAAKnY,UAAWC,KAAOyS,QAAvB,UACI,qBAAK1S,UAAS,UAAKC,KAAOmY,OAAZ,YAAsBnY,KAAOoY,SAA3C,SACI,cAACpD,GAAD,MAEJ,qBAAKjV,UAAS,UAAKC,KAAOmY,OAAZ,YAAsBnY,KAAOqY,aAA3C,SACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOzV,KAAK,WAAWvC,OAAK,EAA5B,SACI,cAACgV,GAAD,MAEJ,cAAC,IAAD,CAAOzS,KAAK,kBAAkBvC,OAAK,EAAnC,SACI,cAACyX,GAAD,MAEJ,cAAC,IAAD,UACI,cAAC,IAAD,CAAUxX,GAAI,CAACuM,SAAU,kB,wCCjBlC,SAASyL,KACpB,MAAoC1P,aAAY,SAACC,GAAD,OAA4BA,EAAMwN,aAA3EC,EAAP,EAAOA,OAAQjE,EAAf,EAAeA,MAAOkG,EAAtB,EAAsBA,WACtB,OACIjC,GAAU,qCACN,sBAAKvW,UAAWC,KAAOwY,YAAvB,UACI,sBAAKzY,UAAWC,KAAOyY,gBAAvB,UACI,oBAAI1Y,UAAU,6BAAd,mDACA,oBAAIA,UAAWC,KAAO0Y,SAAtB,SACKpC,EAAOnK,QAAO,SAAClI,EAAIV,GAAL,OAAWA,E7BDhB,M6BCwCoH,KAAI,SAAArC,GAClD,MAAwB,SAAjBA,EAAM6O,OACT,6BAAwB7O,EAAM2C,QAArB3C,EAAM2C,QAA8B,aAI7D,gCACI,oBAAIlL,UAAU,6BAAd,0DACA,oBAAIA,UAAWC,KAAO0Y,SAAtB,SACKpC,EAAOnK,QAAO,SAAClI,EAAIV,GAAL,OAAWA,E7BVhB,M6BUwCoH,KAAI,SAAArC,GAClD,MAAwB,YAAjBA,EAAM6O,QAAyC,YAAjB7O,EAAM6O,OACvC,6BAAwB7O,EAAM2C,QAArB3C,EAAM2C,QACf,gBAKpB,sBAAKlL,UAAWC,KAAO2Y,aAAvB,UACI,oBAAI5Y,UAAU,6BAAd,oIACA,mBAAGA,UAAU,8BAAb,SAA4CsS,OAEhD,sBAAMtS,UAAWC,KAAO2Y,aAAxB,UACI,oBAAI5Y,UAAU,6BAAd,6HACA,mBAAGA,UAAU,8BAAb,SAA4CwY,UC5BrD,IAAMK,GAAW,WACpB,IAAMjS,EAAWgC,cAgBjB,OAfAK,qBAAU,WAQN,OAPArC,EAAS,CACLjG,KAAM8W,GACNnG,QAAS,CACL0G,I9BZa,6C8BabC,QAAQ,KAGT,WACHrR,EAAS,CACLjG,KAAMiX,GACNtG,QAAS,SAGlB,CAAC1K,IAEA,gCACI,2GACA,uBAAM5G,UAAWC,KAAOyS,QAAxB,UACI,yBAAS1S,UAAWC,KAAOiY,WAA3B,SACI,cAAC,GAAD,MAEJ,kCACI,cAACK,GAAD,a,qBC9BPO,GAAmB,WAC5B,OACI,sBAAM9Y,UAAWC,KAAO8Y,iBAAxB,SACI,kCACI,cAAC,GAAD,SC2EDC,GApEM,WACjB,IAAO/T,EAAM6E,cAAN7E,GACAZ,EAASwE,aAAY,SAACC,GAAD,OAA4BA,EAAM1E,eAAvDC,MACP,EAA0BkJ,mBAA8B,MAAxD,oBAAOhF,EAAP,KAAc0Q,EAAd,KACA,EAAoC1L,mBAA4B,MAAhE,oBAAOoJ,EAAP,KAAmBuC,EAAnB,KACA,EAA0B3L,mBAAwB,MAAlD,oBAAOhG,EAAP,KAAc4R,EAAd,KAwBA,OAvBAlQ,qBAAU,WACDV,EAkBMA,GAASlE,EAAMZ,OAAS,GAC/ByV,EAAc/U,EAAmBoE,EAAMnE,YAAaC,IAlBpDyC,MAAM,GAAD,OAAIxF,EAAJ,YAAiB2D,IACjB5C,KAAKJ,GACLI,MAAK,SAAAH,GACF,IAAIA,EAAIgF,QAOJ,MAAM,IAAIC,MAAMjF,EAAIkF,SANhBlF,EAAIqU,OAAO9S,OAAS,EACpBwV,EAAS/W,EAAIqU,OAAO,IAEpB4C,EAAS,0FAMpB7R,OAAM,SAAAC,GACH4R,EAAS5R,EAAMH,SACfI,MAAMD,EAAMH,cAKzB,CAAC/C,EAAOkE,EAAOtD,IAEd,sBAAKjF,UAAWC,KAAO+K,aAAvB,UACI,oBAAGhL,UAAWC,KAAOgL,QAArB,cAAgChG,KAC/BsD,GAASoO,EAAa,qCACf,oBAAI3W,UAAS,qCAAgCC,KAAOmZ,UAApD,SAAiE7Q,EAAM7F,OACvE,mBAAG1C,UAAS,sCAAiCC,KAAOkX,aAApD,SAAoE1V,EAAe8G,EAAM6O,UACzF,mBAAGpX,UAAS,qCAAgCC,KAAOoZ,uBAAnD,mDACA,oBAAIrZ,UAAWC,KAAO0W,WAAtB,SACKA,EAAWzR,KAAK0F,KAAI,SAAA2M,GACjB,IAAMhT,EAAUoS,EAAW/R,SAAS2S,GACpC,OACI,qBAAqBvX,UAAWC,KAAOsX,UAAvC,UACI,sBAAKvX,UAAWC,KAAOqZ,cAAvB,UACI,qBAAKtZ,UAAWC,KAAOsZ,eAAvB,SACI,qBAAK/O,IAAKjG,EAAQO,MAAOyF,IAAKhG,EAAQ7B,SAE1C,mBAAG1C,UAAU,8BAAb,SAA4CuE,EAAQ7B,UAExD,oBAAG1C,UAAWC,KAAOkF,WAArB,UACI,uBAAMnF,UAAWC,KAAOuX,UAAxB,UAAoCjT,EAAQM,OAA5C,MAAuDN,EAAQS,SAC/D,cAAC,eAAD,CAAcrE,KAAK,iBATlB4D,EAAQU,SAe7B,sBAAKjF,UAAWC,KAAOuZ,YAAvB,UACA,sBACIxZ,UAAU,kDADd,SACiE+W,KAAOxO,EAAMyO,WAAWC,OAAO,MAAMC,aAClG,oBAAGlX,UAAWC,KAAOkF,WAArB,UACI,sBAAMnF,UAAWC,KAAOuX,UAAxB,SAAoCb,EAAWxR,aAC/C,cAAC,eAAD,CAAcxE,KAAK,qBAGzB4G,EAAQ,cAAC,GAAD,IACd,cAAC,GAAD,CAASgE,MAAM,EAAOD,SAAS,Q,0BCzEhC,SAASmO,GAAT,GAAoE,IAA3C9Q,EAA0C,EAA1CA,SAAa+Q,EAA6B,mBACxE/R,EAAOkB,aAAY,SAACC,GAAD,OAA4BA,EAAMnB,QACrDiE,EAAWC,cACXnF,EAAevD,EAAU,gBAC/B,OAAQuW,EAAK7W,MACT,IAAK,WACL,IAAK,kBACL,IAAK,sBACD,OACI,cAAC,IAAD,2BACQ6W,GADR,IAEIC,OAAQ,gBAAE/N,EAAF,EAAEA,SAAF,OAAgBlF,EACpBiC,EAEA,cAAC,IAAD,CACIpI,GAAI,CACAuM,SAAU,SACVC,MAAO,CAAC6M,KAAMhO,UAMtC,IAAK,SACkB,IAAD,EAAlB,OAAIlF,EAEI,cAAC,IAAD,CACInG,IAAY,OAARqL,QAAQ,IAARA,GAAA,UAAAA,EAAUmB,aAAV,eAAiB6M,MAAOhO,EAASmB,MAAM6M,KAAO,CAAC9M,SAAU,OAIlE,cAAC,IAAD,2BAAW4M,GAAX,aAAkB/Q,KAC7B,IAAK,YACD,OAAQjC,EAAqD,cAAC,IAAD,CAAUnG,GAAI,CAACuM,SAAU,cAA/D,cAAC,IAAD,2BAAW4M,GAAX,aAAkB/Q,KAC7C,IAAK,mBACD,OAAOjC,EAAe,cAAC,IAAD,CAAUnG,GAAI,CAACuM,SAAU,cAC3CnF,EAAK4M,eAAerN,QAAU,cAAC,IAAD,CAAU3G,GAAI,CAACuM,SAAU,qBACnD,cAAC,IAAD,2BAAW4M,GAAX,aAAkB/Q,KAC9B,IAAK,kBACD,OAAOjC,EAAe,cAAC,IAAD,CAAUnG,GAAI,CAACuM,SAAU,cAC1CnF,EAAK4M,eAAerN,QACjBS,EAAKiN,cAAc1N,QAAU,cAAC,IAAD,CAAU3G,GAAI,CAACuM,SAAU,YAClD,cAAC,IAAD,2BAAW4M,GAAX,aAAkB/Q,KAFK,cAAC,IAAD,CAAUpI,GAAI,CAACuM,SAAU,sBAGhE,QACI,OAAO,cAAC,IAAD,2BAAW4M,GAAX,aAAkB/Q,MC5BtB,SAASkR,KACpB,IAAMjO,EAAWC,cACX5K,EAAUC,cACHqH,EAASM,aAAY,SAACC,GAAD,OAA4BA,EAAMP,SAA7DT,KACDkF,GAAiC,SAAnB/L,EAAQ6Y,QAAwC,YAAnB7Y,EAAQ6Y,UAAtC,OAA+DlO,QAA/D,IAA+DA,OAA/D,EAA+DA,EAAUmB,QAASnB,EAASmB,MAAMC,WAEpH,OACI,qCACI,eAAC,IAAD,CAAQpB,SAAUoB,GAAcpB,EAAhC,UACI,cAAC,IAAD,CAAO/I,KAAK,IAAIvC,OAAK,EAArB,SACI,cAAC,GAAD,MAEJ,cAAC,IAAD,CAAOuC,KAAK,QAAQvC,OAAK,EAAzB,SACI,cAAC,GAAD,MAEJ,cAAC,IAAD,CAAOuC,KAAK,YAAYvC,OAAK,EAA7B,SACI,cAAC,GAAD,MAEJ,cAACmZ,GAAD,CAAgB5W,KAAK,sBAAsBvC,OAAK,EAAhD,SACI,cAAC,GAAD,MAEJ,cAACmZ,GAAD,CAAgB5W,KAAK,SAASvC,OAAK,EAAnC,SACI,cAAC,GAAD,MAEJ,cAACmZ,GAAD,CAAgB5W,KAAK,YAAYvC,OAAK,EAAtC,SACI,cAAC,GAAD,MAEJ,cAACmZ,GAAD,CAAgB5W,KAAK,mBAAmBvC,OAAK,EAA7C,SACI,cAAC,GAAD,MAEJ,cAACmZ,GAAD,CAAgB5W,KAAK,kBAAkBvC,OAAK,EAA5C,SACI,cAAC,GAAD,MAEJ,cAAC,IAAD,CAAOuC,KAAK,mBAAmBvC,OAAK,EAApC,SACI,cAAC,GAAD,MAEJ,cAACmZ,GAAD,CAAgB5W,KAAK,WAArB,SACI,cAAC,GAAD,MAEJ,cAAC,IAAD,UACI,cAAC,GAAD,SAIPmK,GACG,cAAC,IAAD,CACInK,KAAK,mBACL8F,SACI,cAAC,GAAD,UACI,cAAC,GAAD,QAKfqE,GACG,cAAC,IAAD,CACInK,KAAK,YACL8F,SACI,cAAC,GAAD,UACI,cAAC,GAAD,QAKfqE,GACG,cAACyM,GAAD,CACI5W,KAAK,sBACL8F,SACI,cAAC,GAAD,UACI,cAAC,GAAD,QAKfJ,GACG,cAAC,GAAD,UACI,cAACuC,GAAD,SC5Fb,IAAMiP,GAAqD,0BACrDC,GAAqD,0BACrDC,GAA+C,uBCoB7CC,OAlBf,WACI,IAAMtT,EAAWgC,cACVvE,EAASwE,aAAY,SAACC,GAAD,OAA4BA,EAAM1E,eAAvDC,MAMP,OALA4E,qBAAU,WACe,IAAjB5E,EAAMZ,QACNmD,GDLwB,SAACA,GAIjC,OAHAA,EAAS,CACLjG,KAAMoZ,KAEHjT,MnCbY,qDmCcdzE,KAA8BJ,GAC9BI,MAAK,SAAAyF,GACEA,EAAKZ,QACLN,EAAS,CACLjG,KAAMqZ,GACN5V,YAAa0D,EAAKA,OAGtBlB,EAAS,CACLjG,KAAMsZ,QAGf3S,OAAM,SAACC,GACNX,EAAS,CACLjG,KAAMsZ,aCZf,CAACrT,EAAUvC,EAAMZ,SAEhB,eAAC,IAAD,CAAe0W,SAAS,gBAAxB,UACI,cAAC,EAAD,IACA,qBAAKna,UAAWoa,IAAUC,UAA1B,SACI,cAACR,GAAD,UCPDS,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBnY,MAAK,YAAkD,IAA/CoY,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,mBCRDO,GAAkC,CAC3C1W,YAAa,CACTC,MAAO,GACPmO,oBAAoB,EACpBC,mBAAmB,GAEvB1G,OAAQ,CACJG,IAAK,KACLC,OAAQ,IAEZ5D,MAAO,CACHT,KAAM,KACNiT,cAAc,EACdC,aAAa,GAEjB1E,UAAW,CACPC,OAAQ,KACRjE,MAAO,KACPkG,WAAY,KACZhC,aAAa,EACbjP,MAAO,MAEXI,KAAM,CACFG,KAAM,KACN0L,MAAO,CACHlI,SAAS,EACTqK,QAAQ,GAEZsF,OAAQ,CACJ3P,SAAS,EACTqK,QAAQ,GAEZvB,SAAU,CACN9I,SAAS,EACTqK,QAAQ,GAEZpB,eAAgB,CACZjJ,SAAS,EACTpE,SAAS,GAEb0N,cAAe,CACXtJ,SAAS,EACTpE,SAAS,GAEbqO,eAAgB,CACZjK,SAAS,EACTqK,QAAQ,GAEZuF,kBAAmB,CACf5P,SAAS,EACTpE,SAAS,KC3CfiU,GAAwCL,GAAe1W,YCEvD+W,GAAwCL,GAAe/O,OCgBvDoP,GAA2BL,GAAenT,KCjB1CwT,GAAmCL,GAAevS,MCD3C6S,GAAcC,aAAgB,CACvCjX,YJC8B,WAA2D,IAA1D2I,EAAyD,uDAAjDoO,GAAcrB,EAAmC,uCACxF,OAAQA,EAAOnZ,MACX,KAAKoZ,GACD,OAAO,2BACAhN,GADP,IAEIyF,oBAAoB,EACpBC,mBAAmB,IAG3B,KAAKuH,GACD,MAAO,CACHvH,mBAAmB,EACnBpO,MAAOyV,EAAO1V,YACdoO,oBAAoB,GAG5B,KAAKyH,GACD,OAAO,2BACAlN,GADP,IAEIyF,oBAAoB,EACpBC,mBAAmB,IAG3B,QACI,OAAO1F,IIxBfhB,OHCyB,WAA8D,IAA7DgB,EAA4D,uDAApDoO,GAAcrB,EAAsC,uCACtF,OAAQA,EAAOnZ,MACX,KAAKkB,EACD,MAAyB,QAArBiY,EAAOrV,KAAK9D,KACL,2BACAoM,GADP,IAEIb,IAAK4N,EAAOrV,OAGb,2BACAsI,GADP,IAEIZ,OAAO,GAAD,oBACCY,EAAMZ,QADP,4BAGK2N,EAAOrV,MAHZ,IAIEsM,SAAU+I,EAAO/I,eAIjC,KAAKjP,EACD,OAAO,2BACAiL,GADP,IAEIZ,OAAQ,aAAIY,EAAMZ,QAAQC,QAAO,SAAClI,GAAD,OAAQA,EAAG6M,WAAa+I,EAAO/I,cAExE,KAAK/O,EACD,OAAO,2BACA+K,GADP,IAEIZ,OAAQ2N,EAAOxI,UAEvB,KAAKvP,EACD,OAAO+Y,GAAe/O,OAC1B,QACI,OAAOgB,IGhCfxE,MDDwB,WAAkD,IAAjDwE,EAAgD,uDAAxCoO,GAAcrB,EAA0B,uCACzE,OAAQA,EAAOnZ,MACX,KAAKsH,GACD,OAAO,2BACA8E,GADP,IAEIgO,cAAc,EACdC,aAAa,IAErB,KAAK9S,GACD,MAAO,CACHJ,KAAMgS,EAAOvR,MACbwS,cAAc,EACdC,aAAa,GAErB,KAAK7S,GACD,OAAO,2BACA4E,GADP,IAEIgO,cAAc,EACdC,aAAa,IAErB,KAAK5S,GACD,OAAO0S,GAAevS,MAC1B,QACI,OAAOwE,ICrBfuJ,UCH4B,WAA0D,IAAD,EAAxDvJ,EAAwD,uDAAhD+N,GAAexE,UAAWwD,EAAsB,uCACrF,OAAQA,EAAOnZ,MACX,KAAK+W,GACD,OAAO,2BACA3K,GADP,IAEIxF,MAAO,KACPiP,aAAa,IAErB,KAAKmB,GACD,OAAO,2BACA5K,GADP,IAEIxF,MAAK,UAAEuS,EAAOxI,eAAT,QAAoB,kBACzBkF,aAAa,IAErB,KAAKqB,GACD,OAAOiD,GAAexE,UAC1B,KAAKwB,GACD,OAAO,2BACA/K,GADP,IAEIxF,MAAO,KACPgP,OAAQuD,EAAOxI,QAAQiF,OACvBjE,MAAOwH,EAAOxI,QAAQgB,MACtBkG,WAAYsB,EAAOxI,QAAQkH,aAEnC,QACI,OAAOzL,IDrBfpF,KFcuB,WAAiD,IAAhDoF,EAA+C,uDAAvCoO,GAAcrB,EAAyB,uCACvE,OAAQA,EAAOnZ,MACX,KAAK0E,EACD,OAAO,2BACA0H,GADP,IAEIyG,MAAO,CACHlI,SAAS,EACTqK,QAAQ,KAIpB,KAAKrQ,EACD,OAAO,2BACAyH,GADP,IAEIjF,KAAMgS,EAAOnS,KACb6L,MAAO,CACHlI,SAAS,EACTqK,QAAQ,KAIpB,KAAKpQ,EACD,OAAO,2BACAwH,GADP,IAEIyG,MAAO,CACHlI,SAAS,EACTqK,QAAQ,KAIpB,KAAKnQ,EACD,OAAO,2BACAuH,GADP,IAEIkO,OAAQ,CACJ3P,SAAS,EACTqK,QAAQ,KAIpB,KAAKlQ,EACD,OAAOqV,GAAenT,KAE1B,KAAKjC,EACD,OAAO,2BACAqH,GADP,IAEIkO,OAAQ,CACJ3P,SAAS,EACTqK,QAAQ,KAIpB,KAAKhQ,EACD,OAAO,2BACAoH,GADP,IAEIqH,SAAU,CACN9I,SAAS,EACTqK,QAAQ,KAIpB,KAAK/P,EACD,OAAO,2BACAmH,GADP,IAEIjF,KAAMgS,EAAOnS,KACbyM,SAAU,CACN9I,SAAS,EACTqK,QAAQ,KAIpB,KAAK9P,EACD,OAAO,2BACAkH,GADP,IAEIqH,SAAU,CACN9I,SAAS,EACTqK,QAAQ,KAIpB,KAAK7P,EACD,OAAO,2BACAiH,GADP,IAEIwH,eAAgB,CACZjJ,SAAS,EACTpE,SAAS,KAIrB,KAAKnB,EACD,OAAO,2BACAgH,GADP,IAEIwH,eAAgB,CACZjJ,SAAS,EACTpE,SAAS,KAIrB,KAAKlB,EACD,OAAO,2BACA+G,GADP,IAEIwH,eAAgB,CACZjJ,SAAS,EACTpE,SAAS,KAIrB,KAAKjB,EACD,OAAO,2BACA8G,GADP,IAEI6H,cAAe,CACXtJ,SAAS,EACTpE,SAAS,KAIrB,KAAKhB,GACD,OAAO,2BACA6G,GADP,IAEI6H,cAAe,CACXtJ,SAAS,EACTpE,SAAS,KAIrB,KAAKf,GACD,OAAO,2BACA4G,GADP,IAEI6H,cAAe,CACXtJ,SAAS,EACTpE,SAAS,KAIrB,KAAKd,GACD,OAAO,2BACA2G,GADP,IAEIwI,eAAgB,CACZjK,SAAS,EACTqK,QAAQ,KAIpB,KAAKtP,GACD,OAAO,2BACA0G,GADP,IAEIjF,KAAMgS,EAAOnS,KACb4N,eAAgB,CACZjK,SAAS,EACTqK,QAAQ,KAIpB,KAAKrP,GACD,OAAO,2BACAyG,GADP,IAEIwI,eAAgB,CACZjK,SAAS,EACTqK,QAAQ,KAIpB,KAAKpP,GACD,OAAO,2BACAwG,GADP,IAEImO,kBAAmB,CACf5P,SAAS,EACTpE,SAAS,KAIrB,KAAKV,GACD,OAAO,2BACAuG,GADP,IAEIjF,KAAMgS,EAAOnS,KACbuT,kBAAmB,CACf5P,SAAS,EACTpE,SAAS,KAIrB,KAAKT,GACD,OAAO,2BACAsG,GADP,IAEImO,kBAAmB,CACf5P,SAAS,EACTpE,SAAS,KAIrB,QACI,OAAO6F,M,SIpNNjE,GAAQwS,aAAe,CAChCC,QAASH,GACTI,UAAUC,EACVC,WAAY,CAACC,KCK2C,SAAC7S,GACzD,IAAI8S,EAA2B,KAC/B,OAAO,SAAAC,GAAI,OAAI,SAAC/B,GACZ,IAAOlT,EAAYkC,EAAZlC,SAEP,GAAIkT,EAAOnZ,OAAS8W,GAAqB,CACrC,IAAM9C,EAAQxR,EAAU,eAAeyS,QAAQ,UAAW,IAC1DgG,EAAS,IAAIE,UAAUhC,EAAOxI,QAAQ2G,OAAf,UAA2B6B,EAAOxI,QAAQ0G,IAA1C,kBAAuDrD,GAAUmF,EAAOxI,QAAQ0G,KAEvG4D,IACAA,EAAOG,OAAS,SAAA5S,GACZvC,EAAS,CAACjG,KAAM+W,GAAuBpG,QAASnI,KAEpDyS,EAAOI,QAAU,SAAA7S,GACbvC,EAAS,CAACjG,KAAMgX,GAAqBrG,QAASnI,KAElDyS,EAAOK,UAAY,SAAA9S,GACf,IAAOrB,EAAQqB,EAARrB,KACDoU,EAAanU,KAAKoU,MAAMrU,GAC9BlB,EAAS,CACLjG,KAAMmX,GACNxG,QAAS4K,KAGjBN,EAAOQ,QAAU,SAAAjT,GACbvC,EAAS,CAACjG,KAAMkX,GAAsBvG,QAASnI,KAE/C2Q,EAAOnZ,OAASiX,IAChBgE,EAAOS,MAAMvC,EAAOxI,UAG5BuK,EAAK/B,ODnCTwC,UAAW,KEDf/S,IAASoQ,OACL,cAAC,IAAM4C,WAAP,UACI,cAAC,IAAD,CAAUzT,MAAOA,GAAjB,SACI,cAAC,GAAD,QAGR7F,SAASwF,eAAe,SAM5B6R,M,mBCnBAza,EAAOC,QAAU,CAAC,aAAe,4BAA4B,aAAe,4BAA4B,UAAY,yBAAyB,KAAO,oBAAoB,aAAe,4BAA4B,cAAgB,6BAA6B,UAAY,yBAAyB,KAAO,sB,mBCA5SD,EAAOC,QAAU,CAAC,aAAe,+BAA+B,aAAe,+BAA+B,UAAY,4BAA4B,KAAO,uBAAuB,aAAe,+BAA+B,cAAgB,gCAAgC,UAAY,4BAA4B,KAAO,yB,mBCAjUD,EAAOC,QAAU,CAAC,aAAe,qCAAqC,aAAe,qCAAqC,UAAY,kCAAkC,KAAO,6BAA6B,aAAe,qCAAqC,cAAgB,sCAAsC,UAAY,kCAAkC,KAAO,+B,mBCA3WD,EAAOC,QAAU,CAAC,aAAe,qCAAqC,aAAe,qCAAqC,UAAY,kCAAkC,KAAO,6BAA6B,aAAe,qCAAqC,cAAgB,sCAAsC,UAAY,kCAAkC,KAAO,+B,mBCA3WD,EAAOC,QAAU,CAAC,aAAe,wCAAwC,cAAgB,yCAAyC,KAAO,gCAAgC,aAAe,wCAAwC,SAAW,oCAAoC,UAAY,uC,mBCA3RD,EAAOC,QAAU,CAAC,YAAc,uCAAuC,YAAc,uCAAuC,kBAAoB,kFAAkF,KAAO,kC,mBCAzOD,EAAOC,QAAU,CAAC,KAAO,sCAAsC,UAAY,2CAA2C,YAAc,6CAA6C,SAAW,0CAA0C,OAAS,wCAAwC,MAAQ,uCAAuC,aAAe,gD,mBCArVD,EAAOC,QAAU,CAAC,YAAc,sCAAsC,gBAAkB,0CAA0C,SAAW,mCAAmC,aAAe,yC,mBCA/LD,EAAOC,QAAU,CAAC,KAAO,sCAAsC,aAAe,8CAA8C,cAAgB,iD,mBCA5ID,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,wBAAwB,YAAc,6BAA6B,QAAU,2B,mBCA3ID,EAAOC,QAAU,CAAC,cAAgB,8CAA8C,cAAgB,8CAA8C,gBAAkB,gDAAgD,SAAW,2C,mBCA3ND,EAAOC,QAAU,CAAC,QAAU,oCAAoC,aAAe,yCAAyC,YAAc,0C,mBCAtID,EAAOC,QAAU,CAAC,QAAU,+BAA+B,WAAa,kCAAkC,MAAQ,+B,mBCAlHD,EAAOC,QAAU,CAAC,MAAQ,2BAA2B,YAAc,iCAAiC,eAAiB,sC,mBCArHD,EAAOC,QAAU,CAAC,kBAAoB,mDAAmD,kBAAoB,qD,mBCA7GD,EAAOC,QAAU,CAAC,UAAY,4BAA4B,QAAU,4B,mBCApED,EAAOC,QAAU,CAAC,QAAU,4BAA4B,WAAa,kC","file":"static/js/main.c4c0aa16.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__2GCnq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"ModalOverlayStyles_overlay__Z2K9b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"home_content__zpIlI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chosenItem\":\"SortableIngredientStyles_chosenItem__27d4R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"heading\":\"ingredients_heading__3OUP9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ordersFeed\":\"ProfileOrdersStyles_ordersFeed__3m4TO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderDetailsPage\":\"orderDetailsStyles_orderDetailsPage__1cmwQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderId\":\"OrderDetailsStyles_orderId__3sLtd\",\"itemName\":\"OrderDetailsStyles_itemName__10Z_C\",\"order–°omposition\":\"OrderDetailsStyles_order–°omposition__R_8F0\",\"orderStatus\":\"OrderDetailsStyles_orderStatus__3H2KO\",\"orderTotal\":\"OrderDetailsStyles_orderTotal__vZSay\",\"orderCost\":\"OrderDetailsStyles_orderCost__2dLup\",\"orderFooter\":\"OrderDetailsStyles_orderFooter__2eOFN\",\"orderItems\":\"OrderDetailsStyles_orderItems__aQwSJ\",\"orderItem\":\"OrderDetailsStyles_orderItem__BybgO\",\"orderItemLeft\":\"OrderDetailsStyles_orderItemLeft__qTIH8\",\"orderThumbnail\":\"OrderDetailsStyles_orderThumbnail__3Ks0G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppHeader_header__15oz_\",\"headerWrapper\":\"AppHeader_headerWrapper__2yiDA\",\"menuItems\":\"AppHeader_menuItems__24M2Z\",\"menuItemSection\":\"AppHeader_menuItemSection__ej1-8\",\"logoSection\":\"AppHeader_logoSection__24kH7 AppHeader_menuItemSection__ej1-8\",\"lkSection\":\"AppHeader_lkSection__2Koyz AppHeader_menuItemSection__ej1-8\",\"menuItem\":\"AppHeader_menuItem__3CNfi\",\"menuItemActive\":\"AppHeader_menuItemActive__1aU_y AppHeader_menuItem__3CNfi\",\"menuLkItem\":\"AppHeader_menuLkItem__2lCt3 AppHeader_menuItem__3CNfi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ordersList\":\"OrdersFeedStyles_ordersList__12NyZ\",\"orderLink\":\"OrdersFeedStyles_orderLink__DYuQ9\",\"orderTop\":\"OrdersFeedStyles_orderTop__2Lgbw\",\"orderID\":\"OrdersFeedStyles_orderID__2GhF2\",\"orderTitle\":\"OrdersFeedStyles_orderTitle__1kn1k\",\"orderBottom\":\"OrdersFeedStyles_orderBottom__3rKNG\",\"orderItems\":\"OrdersFeedStyles_orderItems__3sw-6\",\"orderItem\":\"OrdersFeedStyles_orderItem__22Mau\",\"orderTotal\":\"OrdersFeedStyles_orderTotal__2Zu33\",\"orderCost\":\"OrdersFeedStyles_orderCost__3phCM\",\"orderStatus\":\"OrdersFeedStyles_orderStatus__ih1XC\",\"done\":\"OrdersFeedStyles_done__30Z4O\",\"canceled\":\"OrdersFeedStyles_canceled__3xe8E\"};","import React from 'react';\r\nimport {\r\n    Logo,\r\n    BurgerIcon,\r\n    ListIcon,\r\n    ProfileIcon\r\n} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport styles from './AppHeader.module.css';\r\nimport {Link, NavLink} from 'react-router-dom';\r\n\r\nfunction AppHeader() {\r\n    return (\r\n        <header className={styles.header}>\r\n            <div className={styles.headerWrapper}>\r\n                <nav className={styles.menuItems}>\r\n                    <div className={styles.menuItemSection}>\r\n                        <NavLink exact to=\"/\" className={styles.menuItem} activeClassName={styles.menuItemActive}>\r\n                            <BurgerIcon type=\"secondary\"/>\r\n                            <span className=\"ml-3\">–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</span>\r\n                        </NavLink>\r\n                        <NavLink to=\"/feed\" className={styles.menuItem} activeClassName={styles.menuItemActive}>\r\n                            <ListIcon type=\"secondary\"/>\r\n                            <span className=\"ml-3\">–õ–µ–Ω—Ç–∞ –∑–∞–∫–∞–∑–æ–≤</span>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div className={styles.logoSection}>\r\n                        <Link to=\"/\">\r\n                            <Logo/>\r\n                        </Link>\r\n                    </div>\r\n                    <div className={styles.lkSection}>\r\n                        <NavLink to=\"/profile\" className={styles.menuLkItem} activeClassName={styles.menuItemActive}>\r\n                            <ProfileIcon type=\"secondary\"/>\r\n                            <span className=\"ml-3\">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</span>\r\n                        </NavLink>\r\n                    </div>\r\n                </nav>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default AppHeader;","import React from 'react';\r\nimport ModalOverlayStyles from './ModalOverlayStyles.module.css';\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {TModalOverlayProps} from \"../../services/types\";\r\n\r\nfunction ModalOverlay({closeModal}: TModalOverlayProps) {\r\n    const history = useHistory();\r\n    return <div onClick={() => closeModal(history)} className={ModalOverlayStyles.overlay}></div>\r\n}\r\nexport default ModalOverlay;","export const API_URL = 'https://norma.nomoreparties.space/api/ingredients';\r\nexport const ORDER_URL = 'https://norma.nomoreparties.space/api/orders';\r\nexport const WS_ALL_ORDERS = 'wss://norma.nomoreparties.space/orders/all';\r\nexport const WS_USER_ORDERS = 'wss://norma.nomoreparties.space/orders';\r\nexport const LOGIN_URL = 'https://norma.nomoreparties.space/api/auth/login';\r\nexport const REGISTER_URL = 'https://norma.nomoreparties.space/api/auth/register';\r\nexport const LOGOUT_URL = 'https://norma.nomoreparties.space/api/auth/logout';\r\nexport const TOKEN_URL = 'https://norma.nomoreparties.space/api/auth/token';\r\nexport const FORGOT_PASSWORD_URL = 'https://norma.nomoreparties.space/api/password-reset';\r\nexport const RESET_PASSWORD_URL = 'https://norma.nomoreparties.space/api/password-reset/reset';\r\nexport const USER_URL = 'https://norma.nomoreparties.space/api/auth/user';\r\nexport const ESC_KEYCODE = 27;\r\nexport const TABLE_ORDERS_LIMIT = 10;\r\nexport const SECONDS_IN_MIN = 60;\r\nexport const SECONDS_IN_HOUR = 3600;\r\nexport const TWENTY_FOUR_HOURS = 24 * SECONDS_IN_HOUR;\r\nexport const ORDER_STATUSES = {\r\n    done: '–í—ã–ø–æ–ª–Ω–µ–Ω',\r\n    created: '–°–æ–∑–¥–∞–Ω',\r\n    pending: '–ì–æ—Ç–æ–≤–∏—Ç—Å—è'\r\n}","export const ADD_TO_BURGER: 'ADD_TO_BURGER' = 'ADD_TO_BURGER';\r\nexport const REMOVE_FROM_BURGER: 'REMOVE_FROM_BURGER' = 'REMOVE_FROM_BURGER';\r\nexport const CLEAR_BURGER: 'CLEAR_BURGER' = 'CLEAR_BURGER';\r\nexport const REORDER_BURGER: 'REORDER_BURGER' = 'REORDER_BURGER';","import {TIngredient, TOrderData, TProduct} from \"./types\";\r\n\r\nexport const checkResponse = (res: Response) => {\r\n    return res.ok ? res.json() : res.json().then((err) => Promise.reject(err));\r\n}\r\n\r\ntype TSetCookie = {\r\n    [name: string]: string | number\r\n};\r\nexport const setCookie = (name: string, value: string, options: TSetCookie) => {\r\n    options = {\r\n        path: '/',\r\n        ...options\r\n    };\r\n    let updatedCookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\r\n    for (let optionKey in options) {\r\n        updatedCookie += \"; \" + optionKey;\r\n        let optionValue = options[optionKey];\r\n        updatedCookie += \"=\" + optionValue;\r\n    }\r\n    document.cookie = updatedCookie;\r\n}\r\n\r\nexport const getCookie = (cname: string) => {\r\n    let name = cname + \"=\";\r\n    let decodedCookie = decodeURIComponent(document.cookie);\r\n    let ca = decodedCookie.split(';');\r\n    for (let i = 0; i < ca.length; i++) {\r\n        let c = ca[i];\r\n        while (c.charAt(0) === ' ') {\r\n            c = c.substring(1);\r\n        }\r\n        if (c.indexOf(name) === 0) {\r\n            return c.substring(name.length, c.length);\r\n        }\r\n    }\r\n    return \"\";\r\n}\r\n\r\nexport const deleteCookie = (name: string) => {\r\n    setCookie(name, \"\", {\r\n        'max-age': -1\r\n    })\r\n}\r\n\r\nexport const deleteCookies = (cookies: string[] = []) => {\r\n    cookies.forEach(el => {\r\n        deleteCookie(el);\r\n    })\r\n}\r\n\r\nexport const generateOrderItems = (ingredients: string[], items: TIngredient[]):(TOrderData | null) => {\r\n    let products: (TOrderData | null) = null;\r\n    ingredients.forEach(el => {\r\n        const product: (TProduct | undefined) = items.find(item => item._id === el);\r\n        if (typeof product === 'undefined') {\r\n            return false;\r\n        }\r\n        if (products === null && typeof product !== undefined) {\r\n            products = {\r\n                metaData: {\r\n                    [el]: {\r\n                        amount: 1,\r\n                        name: product.name,\r\n                        image: product.image_mobile,\r\n                        price: product.price,\r\n                        id: el\r\n                    }\r\n                },\r\n                keys: [el],\r\n                orderTotal: product.price\r\n            }\r\n        } else if (products !== null && !(el in products.metaData)) {\r\n            products.metaData[el] = {\r\n                amount: 1,\r\n                name: product.name,\r\n                image: product.image_mobile,\r\n                price: product.price,\r\n                id: el\r\n            }\r\n            products['keys'].push(el);\r\n            products['orderTotal'] += product.price;\r\n        } else if (products !== null && el in products.metaData) {\r\n            products.metaData[el].amount += 1;\r\n            products['orderTotal'] += product.price;\r\n        }\r\n    });\r\n    return products;\r\n}","import {\r\n    LOGIN_URL,\r\n    REGISTER_URL,\r\n    FORGOT_PASSWORD_URL,\r\n    RESET_PASSWORD_URL,\r\n    TWENTY_FOUR_HOURS,\r\n    LOGOUT_URL,\r\n    USER_URL,\r\n    TOKEN_URL\r\n} from \"../appVariables\";\r\nimport {checkResponse, deleteCookie, deleteCookies, getCookie, setCookie} from \"../helperFunctions\";\r\nimport {Dispatch} from \"react\";\r\nimport {\r\n    TForgotPasswordActions,\r\n    TResetPasswordActions, TUser, TUserGetActions,\r\n    TUserLoginActions,\r\n    TUserLogoutActions,\r\n    TUserRegisterActions, TUserRequestResponse, TUserUpdateActions,\r\n} from \"../types/user\";\r\nimport {TRefreshToken} from \"../types\";\r\n\r\n// Login actions\r\nexport const LOGIN_REQUEST: 'LOGIN_REQUEST' = 'LOGIN_REQUEST';\r\nexport const LOGIN_SUCCESS: 'LOGIN_SUCCESS' = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAIL: 'LOGIN_FAIL' = 'LOGIN_FAIL';\r\n// Logout actions\r\nexport const LOGOUT_REQUEST: 'LOGOUT_REQUEST' = 'LOGOUT_REQUEST';\r\nexport const LOGOUT_SUCCESS: 'LOGOUT_SUCCESS' = 'LOGOUT_SUCCESS';\r\nexport const LOGOUT_FAIL: 'LOGOUT_FAIL' = 'LOGOUT_FAIL';\r\n// Register actions\r\nexport const REGISTER_REQUEST: 'REGISTER_REQUEST' = 'REGISTER_REQUEST';\r\nexport const REGISTER_SUCCESS: 'REGISTER_SUCCESS' = 'REGISTER_SUCCESS';\r\nexport const REGISTER_FAIL: 'REGISTER_FAIL' = 'REGISTER_FAIL';\r\n// Forgot password actions\r\nexport const FORGOT_PASSWORD_REQUEST: 'FORGOT_PASSWORD_REQUEST' = 'FORGOT_PASSWORD_REQUEST';\r\nexport const FORGOT_PASSWORD_SUCCESS: 'FORGOT_PASSWORD_SUCCESS' = 'FORGOT_PASSWORD_SUCCESS';\r\nexport const FORGOT_PASSWORD_FAIL: 'FORGOT_PASSWORD_FAIL' = 'FORGOT_PASSWORD_FAIL';\r\n// Reset password actions\r\nexport const RESET_PASSWORD_REQUEST: 'RESET_PASSWORD_REQUEST' = 'RESET_PASSWORD_REQUEST';\r\nexport const RESET_PASSWORD_SUCCESS: 'RESET_PASSWORD_SUCCESS' = 'RESET_PASSWORD_SUCCESS';\r\nexport const RESET_PASSWORD_FAIL: 'RESET_PASSWORD_FAIL' = 'RESET_PASSWORD_FAIL';\r\n// Get user actions\r\nexport const GET_USER_REQUEST: 'GET_USER_REQUEST' = 'GET_USER_REQUEST';\r\nexport const GET_USER_SUCCESS: 'GET_USER_SUCCESS' = 'GET_USER_SUCCESS';\r\nexport const GET_USER_FAIL: 'GET_USER_FAIL' = 'GET_USER_FAIL';\r\n// Update user actions\r\nexport const UPDATE_USER_REQUEST: 'UPDATE_USER_REQUEST' = 'UPDATE_USER_REQUEST';\r\nexport const UPDATE_USER_SUCCESS: 'UPDATE_USER_SUCCESS' = 'UPDATE_USER_SUCCESS';\r\nexport const UPDATE_USER_FAIL: 'UPDATE_USER_FAIL' = 'UPDATE_USER_FAIL';\r\n\r\nexport const refreshToken: TRefreshToken = (afterRefresh) => async (dispatch: Dispatch<typeof afterRefresh>) => {\r\n    return await fetch(TOKEN_URL, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n        },\r\n        body: 'token=' + getCookie('refreshToken')\r\n    }).then(checkResponse)\r\n        .then(res => {\r\n            if (res.success) {\r\n                setCookie('accessToken', res.accessToken, {\"max-age\": TWENTY_FOUR_HOURS})\r\n                setCookie('refreshToken', res.refreshToken, {\"max-age\": TWENTY_FOUR_HOURS});\r\n                dispatch(afterRefresh);\r\n            } else {\r\n                throw new Error(res.message);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            alert(error.message);\r\n            deleteCookies(['accessToken', 'refreshToken']);\r\n        });\r\n}\r\n\r\nexport const login = (email: string, password: string) => (dispatch: Dispatch<TUserLoginActions>) => {\r\n    dispatch({\r\n        type: LOGIN_REQUEST\r\n    });\r\n    return fetch(LOGIN_URL, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({email, password})\r\n    })\r\n        .then(checkResponse)\r\n        .then(res => {\r\n            if (res.success) {\r\n                setCookie('accessToken', res.accessToken, {\"max-age\": TWENTY_FOUR_HOURS})\r\n                setCookie('refreshToken', res.refreshToken, {\"max-age\": TWENTY_FOUR_HOURS});\r\n                dispatch({\r\n                    type: LOGIN_SUCCESS,\r\n                    user: {\r\n                        ...res.user,\r\n                        password: password\r\n                    }\r\n                });\r\n            } else {\r\n                throw new Error(res.message);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            dispatch({\r\n                type: LOGIN_FAIL\r\n            });\r\n            alert(error.message);\r\n        });\r\n}\r\n\r\nexport const logout = () => (dispatch: Dispatch<TUserLogoutActions>) => {\r\n    dispatch({\r\n        type: LOGOUT_REQUEST\r\n    });\r\n    return fetch(LOGOUT_URL, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            'token': getCookie('refreshToken')\r\n        })\r\n    })\r\n        .then(checkResponse)\r\n        .then(async res => {\r\n            if (res.success) {\r\n                deleteCookie('accessToken');\r\n                deleteCookie('refreshToken');\r\n                dispatch({\r\n                    type: LOGOUT_SUCCESS\r\n                });\r\n            } else {\r\n                throw new Error(res.message);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            dispatch({\r\n                type: LOGOUT_FAIL\r\n            });\r\n            alert(error.message);\r\n        });\r\n}\r\n\r\nexport const register = (email: string, password: string, name: string) => (dispatch: Dispatch<TUserRegisterActions>) => {\r\n    dispatch({\r\n        type: REGISTER_REQUEST\r\n    });\r\n    return fetch(REGISTER_URL, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({email, password, name})\r\n    })\r\n        .then(checkResponse)\r\n        .then(res => {\r\n            if (res.success) {\r\n                setCookie('accessToken', res.accessToken, {\"max-age\": TWENTY_FOUR_HOURS})\r\n                setCookie('refreshToken', res.refreshToken, {\"max-age\": TWENTY_FOUR_HOURS});\r\n                dispatch({\r\n                    type: REGISTER_SUCCESS,\r\n                    user: {\r\n                        ...res.user,\r\n                        password: password\r\n                    }\r\n                });\r\n            } else {\r\n                throw new Error(res.message);\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: REGISTER_FAIL\r\n            });\r\n            alert(error.message);\r\n        });\r\n}\r\n\r\nexport const forgotPassword = (email: string) => (dispatch: Dispatch<TForgotPasswordActions>) => {\r\n    dispatch({\r\n        type: FORGOT_PASSWORD_REQUEST\r\n    });\r\n    return fetch(FORGOT_PASSWORD_URL, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({email})\r\n    })\r\n        .then(checkResponse)\r\n        .then(res => {\r\n            if (res.success) {\r\n                dispatch({\r\n                    type: FORGOT_PASSWORD_SUCCESS\r\n                });\r\n            } else {\r\n                throw new Error(res.message);\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: FORGOT_PASSWORD_FAIL\r\n            });\r\n            alert(error.message);\r\n        });\r\n}\r\n\r\nexport const resetPassword = (password: string, token: string) => (dispatch: Dispatch<TResetPasswordActions>) => {\r\n    dispatch({\r\n        type: RESET_PASSWORD_REQUEST\r\n    });\r\n    return fetch(RESET_PASSWORD_URL, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({password, token})\r\n    })\r\n        .then(checkResponse)\r\n        .then(res => {\r\n            if (res.success) {\r\n                dispatch({\r\n                    type: RESET_PASSWORD_SUCCESS\r\n                });\r\n            } else {\r\n                throw new Error(res.message);\r\n            }\r\n        }).catch(error => {\r\n            dispatch({\r\n                type: RESET_PASSWORD_FAIL\r\n            });\r\n            alert(error.message);\r\n        });\r\n}\r\n\r\nexport const getUser = (password?: string) => (dispatch: Dispatch<TUserGetActions | void>) => {\r\n    dispatch({\r\n        type: GET_USER_REQUEST\r\n    });\r\n    return fetch(USER_URL, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': getCookie('accessToken')\r\n        }\r\n    })\r\n        .then<TUserRequestResponse>(checkResponse)\r\n        .then(res => {\r\n            if (res.success) {\r\n                dispatch({\r\n                    type: GET_USER_SUCCESS,\r\n                    user: {\r\n                        ...res.user,\r\n                        password: password\r\n                    }\r\n                });\r\n                return true;\r\n            } else {\r\n                throw new Error(res.statusText);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            if (error.message === 'jwt expired' || error.message === 'invalid signature') {\r\n                dispatch(refreshToken(getUser(password)));\r\n            } else {\r\n                dispatch({\r\n                    type: GET_USER_FAIL\r\n                });\r\n                deleteCookies(['accessToken', 'refreshToken']);\r\n                alert(error.message);\r\n            }\r\n        });\r\n}\r\n\r\nexport const updateUser = (data: TUser) => (dispatch: Dispatch<TUserUpdateActions | void>) => {\r\n    dispatch({\r\n        type: UPDATE_USER_REQUEST\r\n    });\r\n    return fetch(USER_URL, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': getCookie('accessToken')\r\n        },\r\n        body: JSON.stringify(data)\r\n    })\r\n        .then<TUserRequestResponse>(checkResponse)\r\n        .then(res => {\r\n            if (res.success) {\r\n                dispatch({\r\n                    type: UPDATE_USER_SUCCESS,\r\n                    user: {\r\n                        ...res.user,\r\n                        password: data.password\r\n                    }\r\n                });\r\n                return true;\r\n            } else {\r\n                throw new Error(res.statusText);\r\n            }\r\n        })\r\n        .catch(error => {\r\n            if (error.message === 'jwt expired' || error.message === 'invalid signature') {\r\n                dispatch(refreshToken(updateUser(data)));\r\n            } else {\r\n                dispatch({\r\n                    type: UPDATE_USER_FAIL\r\n                });\r\n                deleteCookies(['accessToken', 'refreshToken']);\r\n                alert(error.message);\r\n            }\r\n        });\r\n}","import {ORDER_URL} from '../appVariables';\r\nimport {CLEAR_BURGER} from './burger';\r\nimport {checkResponse, deleteCookies, getCookie} from \"../helperFunctions\";\r\nimport {refreshToken} from \"./user\";\r\nimport {TIngredient} from \"../types\";\r\nimport {TOrderCreatedResponse, TOrderActions} from \"../types/order\";\r\nimport {Dispatch} from 'react';\r\n\r\nexport const ORDER_CREATE_REQUEST: 'ORDER_CREATE_REQUEST' = 'ORDER_CREATE_REQUEST';\r\nexport const ORDER_CREATE_SUCCESS: 'ORDER_CREATE_SUCCESS' = 'ORDER_CREATE_SUCCESS';\r\nexport const ORDER_CREATE_FAIL: 'ORDER_CREATE_FAIL' = 'ORDER_CREATE_FAIL';\r\nexport const ORDER_CLOSE: 'ORDER_CLOSE' = 'ORDER_CLOSE';\r\n\r\nexport const createOrder = (ingredients: TIngredient[]) => async (dispatch: Dispatch<TOrderActions | void>) => {\r\n    dispatch({\r\n        type: ORDER_CREATE_REQUEST\r\n    });\r\n    try {\r\n        const res = await fetch(ORDER_URL, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': getCookie('accessToken')\r\n            },\r\n            body: JSON.stringify({ingredients})\r\n        });\r\n        const res_1: TOrderCreatedResponse = await checkResponse(res);\r\n        if (res_1.success) {\r\n            dispatch({\r\n                type: CLEAR_BURGER\r\n            });\r\n            dispatch({\r\n                type: ORDER_CREATE_SUCCESS,\r\n                order: res_1.order\r\n            });\r\n        } else {\r\n            throw new Error(res_1.statusText);\r\n        }\r\n    } catch (error) {\r\n        if (error.message === 'jwt expired' || error.message === 'invalid signature') {\r\n            dispatch(refreshToken(createOrder(ingredients)));\r\n        } else {\r\n            dispatch({\r\n                type: ORDER_CREATE_FAIL\r\n            });\r\n            deleteCookies(['accessToken', 'refreshToken']);\r\n            alert(error.message);\r\n        }\r\n    }\r\n}","import React, {useEffect, useCallback} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport ModalOverlay from '../modal-overlay/ModalOverlay';\r\nimport ModalStyles from './ModalStyles.module.css';\r\nimport {CloseIcon} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport {ESC_KEYCODE} from '../../services/appVariables';\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {ORDER_CLOSE} from \"../../services/actions/order\";\r\nimport {TModalProps, TPreloadedState} from \"../../services/types\";\r\n\r\nconst modalRoot: HTMLElement = document.getElementById(\"react-modals\")!;\r\n\r\nfunction Modal({children, header}: TModalProps) {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const {data: order} = useSelector((store: TPreloadedState) => store.order);\r\n\r\n    const closeModal = useCallback((history) => {\r\n        if (order) {\r\n            dispatch({\r\n                type: ORDER_CLOSE\r\n            });\r\n        } else {\r\n            history.goBack();\r\n        }\r\n    }, [order, dispatch]);\r\n\r\n    useEffect(() => {\r\n        const handleEsc = (event: KeyboardEvent) => {\r\n            if (event.keyCode === ESC_KEYCODE) {\r\n                closeModal(history);\r\n            }\r\n        };\r\n        document.addEventListener('keydown', handleEsc);\r\n        return () => {\r\n            document.removeEventListener('keydown', handleEsc);\r\n        }\r\n    }, [dispatch, history, closeModal]);\r\n\r\n    return ReactDOM.createPortal(\r\n        (\r\n            <>\r\n                <div className={ModalStyles.modal}>\r\n                    <div className={ModalStyles.headingWrapper}>\r\n                        <h2 className=\"text text_type_main-large\">{header}</h2>\r\n                        <CloseIcon type=\"primary\" onClick={() => {\r\n                            closeModal(history)\r\n                        }}/>\r\n                    </div>\r\n                    {children}\r\n                </div>\r\n                <ModalOverlay closeModal={closeModal}/>\r\n            </>\r\n        ),\r\n        modalRoot\r\n    );\r\n}\r\n\r\nexport default Modal;","import React from \"react\";\r\nimport IngredientDetailsStyles from \"./IngredientDetailsStyles.module.css\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {TIngredient, TIngredientDetailsProps, TNutritionalValue, TPreloadedState} from \"../../services/types\";\r\n\r\nfunction IngredientDetails({details}: TIngredientDetailsProps) {\r\n    const {id} = useParams<{ id?: string }>();\r\n    const {items} = useSelector((store: TPreloadedState) => store.ingredients);\r\n\r\n    const ingredient: TIngredient | undefined = details ?? items.find(el => el._id === id);\r\n\r\n    const nutritionalValue: TNutritionalValue = {\r\n        calories: '–ö–∞–ª–æ—Ä–∏–∏, –∫–∫–∞–ª',\r\n        proteins: '–ë–µ–ª–∫–∏, –≥',\r\n        fat: '–ñ–∏—Ä—ã, –≥',\r\n        carbohydrates: '–£–≥–ª–µ–≤–æ–¥—ã, –≥'\r\n    };\r\n\r\n    return (\r\n        ingredient ? <div className={IngredientDetailsStyles.ingredientDetails}>\r\n            <img alt={ingredient.name} src={ingredient.image_large}/>\r\n            <h3 className=\"text text_type_main-medium\">{ingredient.name}</h3>\r\n            <div className={IngredientDetailsStyles.nutritionalValues}>\r\n                {Object.keys(nutritionalValue).map((key) => {\r\n                    return (\r\n                        <div key={key}>\r\n                            <p>{nutritionalValue[key]}</p>\r\n                            <p>{ingredient[key as keyof typeof ingredient]}</p>\r\n                        </div>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div> : null\r\n    )\r\n}\r\n\r\nexport default IngredientDetails;","export default __webpack_public_path__ + \"static/media/success.887b83be.gif\";","import React from 'react';\r\nimport OrderDetailsStyles from './OrderCreatedStyles.module.css';\r\nimport successIcon from '../../images/success.gif';\r\nimport {useSelector} from \"react-redux\";\r\nimport {TPreloadedState} from \"../../services/types\";\r\n\r\nexport default function OrderCreated(){\r\n    const {data: order} = useSelector((store: TPreloadedState) => store.order);\r\n    return order ?\r\n        <div className={OrderDetailsStyles.orderDetails}>\r\n            <div><p className={`${OrderDetailsStyles.orderId} text text_type_digits-large`}>{order.number}</p></div>\r\n            <div><p className=\"text text_type_main-medium mb-5 mt-5\">–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–∫–∞–∑–∞</p></div>\r\n            <div className={`${OrderDetailsStyles.iconWrapper} mb-5 mt-5`}><img src={successIcon} alt=\"Success\"/></div>\r\n            <div className=\"mt-5\">\r\n                <p className=\"text text_type_main-default\">–í–∞—à –∑–∞–∫–∞–∑ –Ω–∞—á–∞–ª–∏ –≥–æ—Ç–æ–≤–∏—Ç—å</p>\r\n                <p className=\"text text_type_main-default text_color_inactive\">–î–æ–∂–¥–∏—Ç–µ—Å—å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—Ä–±–∏—Ç–∞–ª—å–Ω–æ–π\r\n                    —Å—Ç–∞–Ω—Ü–∏–∏</p>\r\n            </div>\r\n        </div> : null;\r\n}","export default __webpack_public_path__ + \"static/media/loading.149a7823.gif\";","import gif from '../../images/loading.gif';\r\nimport styles from './LoadingStyles.module.css';\r\nimport {TLoadingProps} from \"../../services/types\";\r\n\r\nconst Loading = ({request, fail}: TLoadingProps) => {\r\n    return (\r\n        <section className={styles.section}>\r\n            {request || !fail ? <img className={styles.loadingGif} src={gif} alt=\"Loading...\"/> :\r\n                <p className={styles.error}>–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞.</p>\r\n            }\r\n        </section>\r\n    )\r\n}\r\nexport default Loading;","import {Counter, CurrencyIcon} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport BurgerIngredientStyles from \"../burger-ingredient/BurgerIngredientStyles.module.css\";\r\nimport React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {useDrag} from \"react-dnd\";\r\nimport {Link, useLocation} from \"react-router-dom\";\r\nimport {TBurgerIngredientProps, TPreloadedState} from \"../../services/types\";\r\n\r\nconst BurgerIngredient = ({item}: TBurgerIngredientProps) => {\r\n    const location = useLocation();\r\n    const ingredientId = item['_id'];\r\n    const burger = useSelector((store: TPreloadedState) => store.burger);\r\n    const itemId = item._id\r\n    const qty = item.type === 'bun' && burger.bun?._id === item._id ? 2 : item.type !== 'bun' ? burger.notBun.filter(el => el._id === item._id).length : 0;\r\n\r\n    const [{isDrag}, dragRef] = useDrag({\r\n        type: 'ingredient',\r\n        item: {itemId},\r\n        collect: monitor => ({\r\n            isDrag: monitor.isDragging(),\r\n        })\r\n    });\r\n\r\n    return (\r\n        !isDrag ? (\r\n            <Link\r\n                className={BurgerIngredientStyles.listItem}\r\n                ref={dragRef}\r\n                to={{\r\n                    pathname: `/ingredients/${ingredientId}`,\r\n                    state: {background: location},\r\n                }}\r\n            >\r\n                {qty > 0 && <Counter count={qty} size=\"default\"/>}\r\n                <div className={BurgerIngredientStyles.listItemContent}>\r\n                    <img src={item.image} alt={item.name}/>\r\n                    <span\r\n                        className={BurgerIngredientStyles.listItemPrice}>{item.price}\r\n                        <CurrencyIcon\r\n                            type=\"primary\"/></span>\r\n                    <h3 className={BurgerIngredientStyles.listItemTitle}>{item.name}</h3>\r\n                </div>\r\n            </Link>\r\n        ) : null\r\n    )\r\n}\r\n\r\nexport default BurgerIngredient;","import React, {useCallback, useEffect, useRef, useState} from 'react';\r\nimport {useSelector} from \"react-redux\";\r\nimport {Tab} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport BurgerIngredientsStyles from './BurgerIngredientsStyles.module.css';\r\nimport BurgerIngredient from \"../burger-ingredient/BurgerIngredient\";\r\nimport {TPreloadedState} from \"../../services/types\";\r\n\r\nfunction BurgerIngredients() {\r\n    const {items} = useSelector((store: TPreloadedState) => store.ingredients);\r\n    const [tabs, setTabs] = useState([\r\n        {\r\n            id: 'bun',\r\n            name: '–ë—É–ª–∫–∏',\r\n            active: true\r\n        },\r\n        {\r\n            id: 'sauce',\r\n            name: '–°–æ—É—Å—ã',\r\n            active: false\r\n        },\r\n        {\r\n            id: 'main',\r\n            name: '–ù–∞—á–∏–Ω–∫–∞',\r\n            active: false\r\n        }\r\n    ]);\r\n\r\n    const scrollDiv = useRef<HTMLDivElement>(null),\r\n        bunHeader = useRef<HTMLDivElement>(null),\r\n        mainHeader = useRef<HTMLDivElement>(null),\r\n        sauceHeader = useRef<HTMLDivElement>(null);\r\n\r\n    const switchTab = useCallback((tab) => {\r\n        setTabs([\r\n            ...tabs.map(el => {\r\n                if (el.id === tab) {\r\n                    return {\r\n                        ...el,\r\n                        active: true\r\n                    }\r\n                } else {\r\n                    return {\r\n                        ...el,\r\n                        active: false\r\n                    }\r\n                }\r\n            })\r\n        ]);\r\n    }, [tabs]);\r\n\r\n    useEffect(() => {\r\n        const ingredientBlock = scrollDiv.current;\r\n        const scrollHandler: any = (event: React.UIEvent<HTMLDivElement>) => {\r\n            let scrollBlock = event.currentTarget.scrollTop;\r\n            if (scrollDiv?.current?.offsetTop) {\r\n                scrollBlock += scrollDiv.current.offsetTop;\r\n            }\r\n            if (mainHeader?.current?.offsetTop && scrollBlock - mainHeader.current.offsetTop > 0) {\r\n                switchTab('main');\r\n            } else if (sauceHeader?.current?.offsetTop && scrollBlock - sauceHeader.current.offsetTop > 0) {\r\n                switchTab('sauce');\r\n            } else {\r\n                switchTab('bun');\r\n            }\r\n        }\r\n        ingredientBlock?.addEventListener('scroll', scrollHandler);\r\n        return () => {\r\n            ingredientBlock?.removeEventListener('scroll', scrollHandler);\r\n        }\r\n    }, [switchTab]);\r\n\r\n    const scrollIngredients = useCallback((tab) => {\r\n        if (bunHeader?.current?.offsetTop) {\r\n            const bunHeaderoffsetTop = bunHeader?.current?.offsetTop - 10;\r\n            if (tab.id === 'bun') {\r\n                scrollDiv?.current?.scrollTo(0, 0);\r\n            } else if (tab.id === 'sauce' && sauceHeader?.current?.offsetTop) {\r\n                scrollDiv?.current?.scrollTo(0, sauceHeader.current.offsetTop - bunHeaderoffsetTop);\r\n            } else if(mainHeader?.current?.offsetTop) {\r\n                scrollDiv?.current?.scrollTo(0, mainHeader?.current?.offsetTop - bunHeaderoffsetTop);\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <section className={BurgerIngredientsStyles.leftSidebar}>\r\n            <div>\r\n                <div style={{display: 'flex'}}>\r\n                    {tabs.map((el, index) => {\r\n                        return (\r\n                            <Tab value={el.name} active={el.active} key={el.id} onClick={() => scrollIngredients(el)}>\r\n                                {el.name}\r\n                            </Tab>\r\n                        )\r\n                    })}\r\n                </div>\r\n                <div ref={scrollDiv} className={BurgerIngredientsStyles.burgerBuilder}>\r\n                    <div>\r\n                        <h2 ref={bunHeader}>–ë—É–ª–∫–∏</h2>\r\n                        <div className={BurgerIngredientsStyles.list}>\r\n                            {items.filter(el => el.type === 'bun').map((el, index) => {\r\n                                return (\r\n                                    <BurgerIngredient key={el._id} item={el}/>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <h2 ref={sauceHeader}>–°–æ—É—Å—ã</h2>\r\n                        <div className={BurgerIngredientsStyles.list}>\r\n                            {items.filter(el => el.type === 'sauce').map((el, index) => {\r\n                                return (\r\n                                    <BurgerIngredient key={el._id} item={el}/>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <h2 ref={mainHeader}>–ù–∞—á–∏–Ω–∫–∞</h2>\r\n                        <div className={BurgerIngredientsStyles.list}>\r\n                            {items.filter(el => el.type === 'main').map((el, index) => {\r\n                                return (\r\n                                    <BurgerIngredient key={el._id} item={el}/>\r\n                                )\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default React.memo(BurgerIngredients);","import {useRef} from 'react';\r\nimport {useDrag, useDrop} from 'react-dnd';\r\nimport SortableIngredientStyles from '../sortable-ingredient/SortableIngredientStyles.module.css';\r\nimport {DragIcon, ConstructorElement} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {REMOVE_FROM_BURGER} from '../../services/actions/burger';\r\nimport {TSortableIngredientProps} from \"../../services/types\";\r\n\r\nconst SortableIngredient = ({id, index, moveCard, name, image_mobile, price}: TSortableIngredientProps) => {\r\n    const ref = useRef<HTMLDivElement | null>(null);\r\n    const dispatch = useDispatch();\r\n    const [{handlerId}, drop] = useDrop({\r\n        accept: 'helloWorld',\r\n        collect(monitor) {\r\n            return {\r\n                handlerId: monitor.getHandlerId(),\r\n            };\r\n        },\r\n        hover(item:{id: string, index: number}, monitor) {\r\n            if (!ref.current) {\r\n                return;\r\n            }\r\n            const dragIndex = item.index;\r\n            const hoverIndex = index;\r\n            if (dragIndex === hoverIndex) {\r\n                return;\r\n            }\r\n            const hoverBoundingRect = ref.current?.getBoundingClientRect();\r\n            const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\r\n            const clientOffset = monitor.getClientOffset();\r\n            let hoverClientY = hoverBoundingRect.top;\r\n            if (clientOffset) {\r\n                hoverClientY = clientOffset.y - hoverBoundingRect.top;\r\n            }\r\n            if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\r\n                return;\r\n            }\r\n            if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\r\n                return;\r\n            }\r\n            moveCard(dragIndex, hoverIndex);\r\n            item.index = hoverIndex;\r\n        },\r\n    });\r\n    const [{isDragging}, drag] = useDrag({\r\n        type: 'helloWorld',\r\n        item: () => {\r\n            return {id, index};\r\n        },\r\n        collect: (monitor) => ({\r\n            isDragging: monitor.isDragging(),\r\n        }),\r\n    });\r\n    const opacity = isDragging ? 0 : 1;\r\n    drag(drop(ref));\r\n    return (\r\n        <div ref={ref} style={{opacity}} data-handler-id={handlerId}\r\n             className={SortableIngredientStyles.chosenItem}>\r\n            <DragIcon type=\"primary\"/>\r\n            <ConstructorElement\r\n                text={name}\r\n                price={price}\r\n                thumbnail={image_mobile}\r\n                handleClose={() => {\r\n                    dispatch({\r\n                        type: REMOVE_FROM_BURGER,\r\n                        uniqueId: id\r\n                    });\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SortableIngredient;","import React, {useCallback, useMemo} from 'react';\r\nimport {\r\n    CurrencyIcon,\r\n    ConstructorElement,\r\n    Button\r\n} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport BurgerConstructorStyles from './BurgerConstructorStyles.module.css';\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {ADD_TO_BURGER, REORDER_BURGER} from \"../../services/actions/burger\";\r\nimport {useDrop} from \"react-dnd\";\r\nimport update from 'immutability-helper';\r\nimport SortableIngredient from '../sortable-ingredient/SortableIngredient';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport {getCookie} from \"../../services/helperFunctions\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {createOrder} from \"../../services/actions/order\";\r\nimport {TIngredient, TPreloadedState} from \"../../services/types\";\r\n\r\nfunction BurgerConstructor() {\r\n    const {notBun, bun} = useSelector((store: TPreloadedState) => store.burger);\r\n    const {items} = useSelector((store: TPreloadedState) => store.ingredients);\r\n    const history = useHistory();\r\n    const orderTotal = useMemo(() => {\r\n        return notBun.reduce(function (acc, obj) {\r\n            let price = obj.price;\r\n            if (obj.type === 'bun') {\r\n                price += obj.price;\r\n            }\r\n            return acc + price;\r\n        }, 0) + (bun ? bun.price * 2 : 0);\r\n    }, [notBun, bun]);\r\n\r\n    const dispatch = useDispatch();\r\n    const moveCard = useCallback((dragIndex, hoverIndex) => {\r\n        const dragCard = notBun[dragIndex];\r\n        dispatch({\r\n            type: REORDER_BURGER,\r\n            payload: update(notBun, {\r\n                $splice: [\r\n                    [dragIndex, 1],\r\n                    [hoverIndex, 0, dragCard],\r\n                ],\r\n            })\r\n        });\r\n    }, [notBun, dispatch]);\r\n    const renderCard = (card: TIngredient, index: number) => {\r\n        return (\r\n            <SortableIngredient\r\n                key={card.uniqueId}\r\n                index={index}\r\n                id={card.uniqueId ?? ''}\r\n                price={card.price}\r\n                name={card.name}\r\n                image_mobile={card.image_mobile}\r\n                moveCard={moveCard}\r\n            />\r\n        );\r\n    };\r\n    const [{isHover}, dropTarget] = useDrop({\r\n        accept: \"ingredient\",\r\n        drop(item: {itemId: string}) {\r\n            dispatch({\r\n                type: ADD_TO_BURGER,\r\n                item: items.find(el => el._id === item.itemId),\r\n                uniqueId: item.itemId + uuidv4()\r\n            });\r\n        },\r\n        collect: monitor => ({\r\n            isHover: monitor.isOver(),\r\n        })\r\n    });\r\n    const borderColor = isHover ? '#e3abff' : 'transparent';\r\n\r\n    const createOrderHandler = () => {\r\n        if (!getCookie('refreshToken')) {\r\n            history.push('/login');\r\n            return false;\r\n        } else if (!(notBun && bun)) {\r\n            alert('Choose ingredients!');\r\n            return false;\r\n        }\r\n        dispatch(createOrder([...notBun, bun, bun]));\r\n    }\r\n\r\n    return (\r\n        <section className={BurgerConstructorStyles.rightSidebar}>\r\n            <div ref={dropTarget} className={BurgerConstructorStyles.cart} style={{borderColor}}>\r\n                {notBun.length > 0 || bun ? (\r\n                    <>\r\n                        <div>\r\n                            {bun && (\r\n                                <ConstructorElement\r\n                                    type=\"top\"\r\n                                    isLocked={true}\r\n                                    text={`${bun.name} (–≤–µ—Ä—Ö)`}\r\n                                    price={bun.price}\r\n                                    thumbnail={bun.image_mobile}\r\n                                />\r\n                            )}\r\n                        </div>\r\n                        <div className={BurgerConstructorStyles.ingredients}>\r\n                            {notBun.filter(el => el.type !== 'bun').map((card, i) => renderCard(card, i))}\r\n                        </div>\r\n                        <div>\r\n                            {bun && (\r\n                                <ConstructorElement\r\n                                    type=\"bottom\"\r\n                                    isLocked={true}\r\n                                    text={`${bun.name} (–Ω–∏–∑)`}\r\n                                    price={bun.price}\r\n                                    thumbnail={bun.image_mobile}\r\n                                />\r\n                            )}\r\n                        </div>\r\n                    </>\r\n                ) : (\r\n                    <div className={BurgerConstructorStyles.cartEmpty}>\r\n                        <p>–¢—ã –Ω–µ —Ç—ã, –∫–æ–≥–¥–∞ –≥–æ–ª–æ–¥–µ–Ω...</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <div className={BurgerConstructorStyles.checkout}>\r\n                <div className={BurgerConstructorStyles.total}>{orderTotal} <CurrencyIcon type=\"primary\"/></div>\r\n                <div>\r\n                    <Button onClick={createOrderHandler} type=\"primary\"\r\n                            size=\"large\">–û—Ñ–æ—Ä–º–∏—Ç—å\r\n                        –∑–∞–∫–∞–∑</Button>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default BurgerConstructor;","import styles from \"./home.module.css\";\r\nimport {DndProvider} from \"react-dnd\";\r\nimport {HTML5Backend} from \"react-dnd-html5-backend\";\r\nimport BurgerIngredients from \"../../components/burger-ingredients/BurgerIngredients\";\r\nimport BurgerConstructor from \"../../components/burger-constructor/BurgerConstructor\";\r\nimport React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport Loading from \"../../components/loading/Loading\";\r\nimport {TPreloadedState} from \"../../services/types\";\r\n\r\nexport const HomePage = () => {\r\n    const {items, ingredientsRequest, ingredientsFailed} = useSelector((store: TPreloadedState) => store.ingredients);\r\n    return (\r\n        <>\r\n            <h1>–°–æ–±–µ—Ä–∏—Ç–µ –±—É—Ä–≥–µ—Ä</h1>\r\n            <main className={styles.content}>\r\n                <DndProvider backend={HTML5Backend}>\r\n                    {items.length > 0 ? <BurgerIngredients/> :\r\n                        <Loading request={ingredientsRequest} fail={ingredientsFailed}/>\r\n                    }\r\n                    <BurgerConstructor/>\r\n                </DndProvider>\r\n            </main>\r\n        </>\r\n    )\r\n}","import React, {useState} from 'react';\r\nimport styles from \"./login.module.css\";\r\nimport {Input, PasswordInput, Button} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport {Link} from 'react-router-dom';\r\nimport {login} from \"../../services/actions/user\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nexport const LoginPage = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const onSubmit = (e: React.SyntheticEvent) => {\r\n        e.preventDefault();\r\n        if (email && password) {\r\n            dispatch(login(email, password));\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.loginWrapper}>\r\n            <div className={styles.loginContent}>\r\n                <p className={`text text_type_main-medium ${styles.formTitle}`}>–í—Ö–æ–¥</p>\r\n                <form onSubmit={onSubmit} className={styles.form}>\r\n                    <div className={styles.inputWrapper}>\r\n                        <Input\r\n                            type={'email'}\r\n                            placeholder={'E-mail'}\r\n                            onChange={e => setEmail(e.target.value)}\r\n                            name={'email'}\r\n                            size={'default'}\r\n                            value={email}\r\n                        />\r\n                    </div>\r\n                    <div className={styles.inputWrapper}>\r\n                        <PasswordInput\r\n                            name={'password'}\r\n                            value={password}\r\n                            onChange={e => setPassword(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div className={styles.submitWrapper}>\r\n                        <Button type=\"primary\" size=\"medium\">\r\n                            –í—Ö–æ–¥\r\n                        </Button>\r\n                    </div>\r\n                </form>\r\n                <div>\r\n                    <p className={`text text_type_main-default ${styles.paragraph}`}>–í—ã ‚Äî –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å? <Link\r\n                        className={styles.link} to=\"/register\">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</Link></p>\r\n                    <p className={`text text_type_main-default ${styles.paragraph}`}>–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å? <Link\r\n                        className={styles.link} to=\"/forgot-password\">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å</Link></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useCallback, useState} from 'react';\r\nimport styles from \"./register.module.css\";\r\nimport {Input, PasswordInput, Button} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport {Link} from 'react-router-dom';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {register} from \"../../services/actions/user\";\r\n\r\nexport const RegisterPage = () => {\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const dispatch = useDispatch();\r\n    const registerUser = useCallback((e) => {\r\n        e.preventDefault();\r\n        dispatch(register(email, password, name));\r\n    }, [dispatch, email, password, name]);\r\n    return (\r\n        <div className={styles.loginWrapper}>\r\n            <div className={styles.loginContent}>\r\n                <p className={`text text_type_main-medium ${styles.formTitle}`}>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</p>\r\n                <form className={styles.form} onSubmit={registerUser}>\r\n                    <div className={styles.inputWrapper}>\r\n                        <Input\r\n                            type={'text'}\r\n                            placeholder={'–ò–º—è'}\r\n                            onChange={e => setName(e.target.value)}\r\n                            name={'name'}\r\n                            size={'default'}\r\n                            value={name}\r\n                        />\r\n                    </div>\r\n                    <div className={styles.inputWrapper}>\r\n                        <Input\r\n                            type={'email'}\r\n                            placeholder={'E-mail'}\r\n                            onChange={e => setEmail(e.target.value)}\r\n                            name={'email'}\r\n                            size={'default'}\r\n                            value={email}\r\n                        />\r\n                    </div>\r\n                    <div className={styles.inputWrapper}>\r\n                        <PasswordInput\r\n                            name={'password'}\r\n                            value={password}\r\n                            onChange={e => setPassword(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div className={styles.submitWrapper}>\r\n                        <Button type=\"primary\" size=\"medium\">\r\n                            –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è\r\n                        </Button>\r\n                    </div>\r\n                </form>\r\n                <div>\r\n                    <p className={`text text_type_main-default ${styles.paragraph}`}>–£–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã? <Link\r\n                        className={styles.link} to=\"/login\">–í–æ–π—Ç–∏</Link></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useState, useCallback} from 'react';\r\nimport styles from \"./forgotPassword.module.css\";\r\nimport {Button, Input} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport {Link} from 'react-router-dom';\r\nimport {forgotPassword} from '../../services/actions/user';\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nexport const ForgotPasswordPage = () => {\r\n    const [email, setEmail] = useState('');\r\n    const dispatch = useDispatch();\r\n\r\n    const formSubmit = useCallback((e) => {\r\n        e.preventDefault();\r\n        if (email) {\r\n            dispatch(forgotPassword(email));\r\n        }\r\n    }, [dispatch, email]);\r\n\r\n    return (\r\n        <div className={styles.loginWrapper}>\r\n            <div className={styles.loginContent}>\r\n                <p className={`text text_type_main-medium ${styles.formTitle}`}>–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</p>\r\n                <form onSubmit={formSubmit} className={styles.form}>\r\n                    <div className={styles.inputWrapper}>\r\n                        <Input\r\n                            type={'email'}\r\n                            placeholder={'E-mail'}\r\n                            onChange={e => setEmail(e.target.value)}\r\n                            name={'email'}\r\n                            size={'default'}\r\n                            value={email}\r\n                        />\r\n                    </div>\r\n                    <div className={styles.submitWrapper}>\r\n                        <Button type=\"primary\" size=\"medium\">\r\n                            –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å\r\n                        </Button>\r\n                    </div>\r\n                </form>\r\n                <div>\r\n                    <p className={`text text_type_main-default ${styles.paragraph}`}>–í—Å–ø–æ–º–Ω–∏–ª–∏ –ø–∞—Ä–æ–ª—å? <Link\r\n                        className={styles.link} to=\"/login\">–í–æ–π—Ç–∏</Link></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useCallback, useState} from 'react';\r\nimport styles from \"./reset-password.module.css\";\r\nimport {Button, Input, PasswordInput} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport {Link, Redirect} from 'react-router-dom';\r\nimport {resetPassword} from \"../../services/actions/user\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {TPreloadedState} from \"../../services/types\";\r\n\r\nexport const ResetPasswordPage = () => {\r\n    const [password, setPassword] = useState('');\r\n    const [code, setCode] = useState('');\r\n\r\n    const dispatch = useDispatch();\r\n    const user = useSelector((store: TPreloadedState) => store.user);\r\n    const formSubmit = useCallback((e: React.SyntheticEvent) => {\r\n        e.preventDefault();\r\n        if (code && password) {\r\n            dispatch(resetPassword(password, code));\r\n        }\r\n    }, [password, code, dispatch]);\r\n\r\n    return (\r\n        user.resetPassword.success ? <Redirect to={{pathname: '/login'}}/> :\r\n            <div className={styles.loginWrapper}>\r\n                <div className={styles.loginContent}>\r\n                    <p className={`text text_type_main-medium ${styles.formTitle}`}>–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</p>\r\n                    <form onSubmit={formSubmit} className={styles.form}>\r\n                        <div className={styles.inputWrapper}>\r\n                            <PasswordInput\r\n                                name={'password'}\r\n                                value={password}\r\n                                onChange={e => setPassword(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className={styles.inputWrapper}>\r\n                            <Input\r\n                                type={'text'}\r\n                                placeholder={'–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ –ø–∏—Å—å–º–∞'}\r\n                                onChange={e => setCode(e.target.value)}\r\n                                name={'code'}\r\n                                size={'default'}\r\n                                value={code}\r\n                            />\r\n                        </div>\r\n                        <div className={styles.submitWrapper}>\r\n                            <Button type=\"primary\" size=\"medium\">\r\n                                –°–æ—Ö—Ä–∞–Ω–∏—Ç—å\r\n                            </Button>\r\n                        </div>\r\n                    </form>\r\n                    <div>\r\n                        <p className={`text text_type_main-default ${styles.paragraph}`}>–í—Å–ø–æ–º–Ω–∏–ª–∏ –ø–∞—Ä–æ–ª—å? <Link\r\n                            className={styles.link} to=\"/login\">–í–æ–π—Ç–∏</Link></p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/404.41d92f7c.gif\";","import styles from './notFound.module.css';\r\nimport notFoundImage from '../../images/404.gif';\r\n\r\nexport const NotFoundPage = () => {\r\n    return (\r\n        <div className={styles.content}>\r\n            <p className={`text text_type_main-large ${styles.paragraph}`}>–¢—É—Ç –Ω–∏—á–µ–≥–æ –Ω–µ—Ç...</p>\r\n            <img src={notFoundImage} alt=\"Page not found\"/>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport IngredientDetails from \"../../components/ingredient-details/IngredientDetails\";\r\nimport styles from './ingredients.module.css';\r\nimport {useParams} from \"react-router-dom\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {NotFoundPage} from \"../not-found/not-found\";\r\nimport Loading from \"../../components/loading/Loading\";\r\nimport {TPreloadedState} from \"../../services/types\";\r\n\r\nexport const IngredientsPage = () => {\r\n    const {items, ingredientsRequest, ingredientsFailed} = useSelector((store: TPreloadedState) => store.ingredients);\r\n    const {id} = useParams<{ id?: string }>();\r\n    const ingredient = items.length > 0 ? items.find(el => el._id === id) ?? null : null;\r\n    return (\r\n        ingredient ? (\r\n            <>\r\n                <h1 className={`text text_type_main-large ${styles.heading}`}>–î–µ—Ç–∞–ª–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞</h1>\r\n                <IngredientDetails details={ingredient}/>\r\n            </>\r\n        ) : ingredientsRequest ? <Loading request={ingredientsRequest} fail={ingredientsFailed}/> :\r\n            <NotFoundPage/>\r\n    )\r\n}","import styles from \"./ProfileMenuStyles.module.css\";\r\nimport {Link, NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {logout} from \"../../services/actions/user\";\r\n\r\nexport default function ProfileMenu() {\r\n    const dispatch = useDispatch();\r\n\r\n    const logoutClick = (e: React.SyntheticEvent) => {\r\n        e.preventDefault();\r\n        dispatch(logout());\r\n    };\r\n    return (\r\n        <>\r\n            <ul className={styles.profileMenu}>\r\n                <li className={`pt-3 pb-3`}>\r\n                    <NavLink exact to=\"/profile\"\r\n                             className={`text text_type_main-medium ${styles.profileLink}`}\r\n                             activeClassName={styles.profileLinkActive}>–ü—Ä–æ—Ñ–∏–ª—å</NavLink>\r\n                </li>\r\n                <li className={`pt-3 pb-3`}>\r\n                    <NavLink exact to=\"/profile/orders\" className={`text text_type_main-medium ${styles.profileLink}`}\r\n                             activeClassName={styles.profileLinkActive}>–ò—Å—Ç–æ—Ä–∏—è\r\n                        –∑–∞–∫–∞–∑–æ–≤</NavLink>\r\n                </li>\r\n                <li className={`pt-3 pb-3`}>\r\n                    <Link to=\"#logout\" onClick={logoutClick}\r\n                          className={`text text_type_main-medium ${styles.profileLink}`}>–í—ã—Ö–æ–¥</Link>\r\n                </li>\r\n            </ul>\r\n            <p className={`text text_type_main-default ${styles.info}`}>–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –≤—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–∏\r\n                –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</p>\r\n        </>\r\n    )\r\n}","import styles from \"./ProfileFormStyles.module.css\";\r\nimport {Button, Input} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {getUser, updateUser} from \"../../services/actions/user\";\r\nimport {TPreloadedState} from \"../../services/types\";\r\n\r\nexport default function ProfileForm() {\r\n    const {data: user, getUserRequest} = useSelector((store: TPreloadedState) => store.user);\r\n    const history = useHistory();\r\n    const initialFormState = {\r\n        name: user?.name ?? '',\r\n        email: user?.email ?? '',\r\n        password: user?.password ?? ''\r\n    };\r\n    const [formData, setFormData] = useState(initialFormState);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        const fetchUserData = async () => {\r\n            await dispatch(getUser(user?.password));\r\n            if (getUserRequest.failed) {\r\n                history.replace({pathname: '/login'});\r\n            }\r\n        }\r\n        if (user === null) {\r\n            fetchUserData();\r\n        }\r\n    }, [dispatch, history, user, user?.password, getUserRequest.failed]);\r\n\r\n    useEffect(() => {\r\n        setFormData({\r\n            name: user?.name ?? '',\r\n            email: user?.email ?? '',\r\n            password: user?.password ?? ''\r\n        });\r\n    }, [user?.name, user?.email, user?.password]);\r\n\r\n\r\n    const profileOnChange = (e: React.FormEvent<HTMLInputElement>) => {\r\n        const value = e.currentTarget.value;\r\n        const name = e.currentTarget.name;\r\n\r\n        setFormData({\r\n            ...formData,\r\n            [name]: value,\r\n        });\r\n    }\r\n\r\n    const updateUserHandler = (e: React.SyntheticEvent) => {\r\n        e.preventDefault();\r\n        dispatch(updateUser(formData));\r\n    }\r\n\r\n    const cancelChanges = (e: React.SyntheticEvent) => {\r\n        e.preventDefault();\r\n        setFormData(initialFormState);\r\n    }\r\n    return (\r\n        <div className={styles.sidesWrapper}>\r\n            <div className={styles.leftSide}>\r\n                <form onSubmit={updateUserHandler}>\r\n                    <div className={styles.inputWrapper}>\r\n                        <Input\r\n                            type={'text'}\r\n                            placeholder={'–ò–º—è'}\r\n                            onChange={profileOnChange}\r\n                            name={'name'}\r\n                            size={'default'}\r\n                            value={formData.name}\r\n                            icon={'EditIcon'}\r\n                        />\r\n                    </div>\r\n                    <div className={styles.inputWrapper}>\r\n                        <Input\r\n                            type={'email'}\r\n                            placeholder={'E-mail'}\r\n                            onChange={profileOnChange}\r\n                            name={'email'}\r\n                            size={'default'}\r\n                            value={formData.email}\r\n                            icon={'EditIcon'}\r\n                        />\r\n                    </div>\r\n                    <div className={styles.inputWrapper}>\r\n                        <Input\r\n                            type={'password'}\r\n                            placeholder={'–ü–∞—Ä–æ–ª—å'}\r\n                            onChange={profileOnChange}\r\n                            name={'password'}\r\n                            size={'default'}\r\n                            value={formData.password}\r\n                            icon={'EditIcon'}\r\n                        />\r\n                    </div>\r\n                    <div className={styles.submitWrapper}>\r\n                        <a href=\"#cancel\" className={styles.link} onClick={cancelChanges}>–û—Ç–º–µ–Ω–∞</a>\r\n                        <Button type=\"primary\" size=\"medium\">\r\n                            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å\r\n                        </Button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div className={styles.rightSide}></div>\r\n        </div>\r\n    )\r\n}","import styles from \"./OrdersFeedStyles.module.css\";\r\nimport {Link, useRouteMatch, useLocation} from \"react-router-dom\";\r\nimport {CurrencyIcon} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport {useSelector} from \"react-redux\";\r\nimport moment from 'moment';\r\nimport 'moment/locale/ru';\r\nimport {ORDER_STATUSES} from \"../../services/appVariables\";\r\nimport {generateOrderItems} from '../../services/helperFunctions';\r\nimport Loading from \"../loading/Loading\";\r\nimport {TPreloadedState} from \"../../services/types\";\r\n\r\nconst OrdersFeed = () => {\r\n    const location = useLocation();\r\n    const {path} = useRouteMatch();\r\n    const {orders, wsConnected, error} = useSelector((store: TPreloadedState) => store.websocket);\r\n    const {items, ingredientsRequest, ingredientsFailed} = useSelector((store: TPreloadedState) => store.ingredients);\r\n    return (\r\n        orders && items ?\r\n        <ul className={styles.ordersList}>\r\n            {orders && orders.map(order => {\r\n                if (order.ingredients.length < 1 || order.ingredients.some(el => el === null)) {\r\n                    return null;\r\n                }\r\n                const orderItems = generateOrderItems(order.ingredients, items);\r\n                return (\r\n                    <li key={order._id}>\r\n                        <Link className={styles.orderLink}\r\n                              to={{pathname: `${path}/${order.number}`, state: {background: location}}}>\r\n                            <div className={styles.orderTop}>\r\n                                <span className={styles.orderID}>#{order.number}</span>\r\n                                <span\r\n                                    className=\"text text_type_main-default text_color_inactive\">{moment(order.createdAt).locale('ru').calendar()} i-GMT+3</span>\r\n                            </div>\r\n                            {path === '/profile/orders' && <div>\r\n                                <p className={`text text_type_main-default ${styles.orderStatus} ${styles[order.status]}`}>{ORDER_STATUSES[order.status as keyof typeof ORDER_STATUSES]}</p>\r\n                            </div>}\r\n                            <div className={`text text_type_main-medium ${styles.orderTitle}`}>\r\n                                <h3>{order.name ?? ''}</h3>\r\n                            </div>\r\n                            <div className={styles.orderBottom}>\r\n                                <div className={styles.orderItems}>\r\n                                    {orderItems && orderItems.keys.map(orderItem => {\r\n                                        if (!orderItem) {\r\n                                            return null;\r\n                                        }\r\n                                        const product = orderItems.metaData[orderItem];\r\n                                        return (\r\n                                            <div key={order._id + product.id} className={styles.orderItem}>\r\n                                                <img src={product.image} alt={product.name}/>\r\n                                                {product.amount > 1 && <span\r\n                                                    className=\"text text_type_main-default\">+{product.amount}</span>}\r\n                                            </div>\r\n                                        )\r\n                                    })}\r\n                                </div>\r\n                                <div className={styles.orderTotal}><span\r\n                                    className={styles.orderCost}>{orderItems?.orderTotal}</span> <CurrencyIcon type=\"primary\"/></div>\r\n                            </div>\r\n                        </Link>\r\n                    </li>\r\n                )\r\n            })}\r\n        </ul> :\r\n            <Loading fail={ingredientsFailed || error ? true : false} request={ingredientsRequest || !wsConnected} />\r\n    )\r\n}\r\nexport default OrdersFeed;","export const WS_CONNECTION_START: 'WS_CONNECTION_START' = 'WS_CONNECTION_START';\r\nexport const WS_CONNECTION_SUCCESS: 'WS_CONNECTION_SUCCESS' = 'WS_CONNECTION_SUCCESS';\r\nexport const WS_CONNECTION_ERROR: 'WS_CONNECTION_ERROR' = 'WS_CONNECTION_ERROR';\r\nexport const WS_CONNECTION_FINISH: 'WS_CONNECTION_FINISH' = 'WS_CONNECTION_FINISH';\r\nexport const WS_CONNECTION_CLOSED: 'WS_CONNECTION_CLOSED' = 'WS_CONNECTION_CLOSED';\r\nexport const WS_GET_ORDERS: 'WS_GET_ORDERS' = 'WS_GET_ORDERS';","import OrdersFeed from \"../orders-feed/OrdersFeed\";\r\nimport styles from './ProfileOrdersStyles.module.css';\r\nimport {useEffect} from \"react\";\r\nimport {WS_CONNECTION_FINISH, WS_CONNECTION_START} from \"../../services/actions/websocket\";\r\nimport {WS_USER_ORDERS} from \"../../services/appVariables\";\r\nimport {useDispatch} from \"react-redux\";\r\nexport default function ProfileOrders(){\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        dispatch({\r\n            type: WS_CONNECTION_START,\r\n            payload: {\r\n                url: WS_USER_ORDERS,\r\n                secure: true\r\n            }\r\n        });\r\n        return () => {\r\n            dispatch({\r\n                type: WS_CONNECTION_FINISH,\r\n                payload: 1000\r\n            });\r\n        };\r\n    }, [dispatch]);\r\n    return (\r\n        <section className={styles.ordersFeed}>\r\n            <OrdersFeed/>\r\n        </section>\r\n    )\r\n}","import React from \"react\";\r\nimport styles from './profile.module.css';\r\nimport ProfileMenu from \"../../components/profile-menu/ProfileMenu\";\r\nimport ProfileForm from \"../../components/profile-form/ProfileForm\";\r\nimport {Route, Switch, Redirect} from \"react-router-dom\";\r\nimport ProfileOrders from \"../../components/profile-orders/ProfileOrders\";\r\n\r\nexport const ProfilePage = () => {\r\n    return (\r\n        <div className={styles.content}>\r\n            <div className={`${styles.column} ${styles.sidebar}`}>\r\n                <ProfileMenu/>\r\n            </div>\r\n            <div className={`${styles.column} ${styles.centerBlock}`}>\r\n                <Switch>\r\n                    <Route path=\"/profile\" exact>\r\n                        <ProfileForm/>\r\n                    </Route>\r\n                    <Route path=\"/profile/orders\" exact>\r\n                        <ProfileOrders/>\r\n                    </Route>\r\n                    <Route>\r\n                        <Redirect to={{pathname: '/'}}/>\r\n                    </Route>\r\n                </Switch>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {useSelector} from \"react-redux\";\r\nimport styles from \"./OrdersStatStyles.module.css\";\r\nimport {TABLE_ORDERS_LIMIT} from '../../services/appVariables';\r\nimport {TPreloadedState} from \"../../services/types\";\r\n\r\nexport default function OrdersStat() {\r\n    const {orders, total, totalToday} = useSelector((store: TPreloadedState) => store.websocket);\r\n    return (\r\n        orders && <>\r\n            <div className={styles.ordersTable}>\r\n                <div className={styles.completedOrders}>\r\n                    <h4 className=\"text text_type_main-medium\">–ì–æ—Ç–æ–≤—ã:</h4>\r\n                    <ul className={styles.orderIds}>\r\n                        {orders.filter((el, i) => i < TABLE_ORDERS_LIMIT).map(order => {\r\n                            return order.status === 'done' ?\r\n                                <li key={order.number}>{order.number}</li> : null\r\n                        })}\r\n                    </ul>\r\n                </div>\r\n                <div>\r\n                    <h4 className=\"text text_type_main-medium\">–í —Ä–∞–±–æ—Ç–µ:</h4>\r\n                    <ul className={styles.orderIds}>\r\n                        {orders.filter((el, i) => i < TABLE_ORDERS_LIMIT).map(order => {\r\n                            return order.status === 'pending' || order.status === 'created' ?\r\n                                <li key={order.number}>{order.number}</li> :\r\n                                null;\r\n                        })}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            <div className={styles.ordersTotals}>\r\n                <h4 className=\"text text_type_main-medium\">–í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞ –≤—Å–µ –≤—Ä–µ–º—è:</h4>\r\n                <p className=\"text text_type_digits-large\">{total}</p>\r\n            </div>\r\n            <div  className={styles.ordersTotals}>\r\n                <h4 className=\"text text_type_main-medium\">–í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞ —Å–µ–≥–æ–¥–Ω—è:</h4>\r\n                <p className=\"text text_type_digits-large\">{totalToday}</p>\r\n            </div>\r\n        </>\r\n\r\n    )\r\n}","import {WS_ALL_ORDERS} from '../../services/appVariables';\r\nimport styles from './feedStyles.module.css'\r\nimport OrdersFeed from \"../../components/orders-feed/OrdersFeed\";\r\nimport {useEffect} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {WS_CONNECTION_START, WS_CONNECTION_FINISH} from \"../../services/actions/websocket\";\r\nimport OrdersStat from \"../../components/orders-stat/OrdersStat\";\r\n\r\nexport const FeedPage = () => {\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        dispatch({\r\n            type: WS_CONNECTION_START,\r\n            payload: {\r\n                url: WS_ALL_ORDERS,\r\n                secure: false\r\n            }\r\n        });\r\n        return () => {\r\n            dispatch({\r\n                type: WS_CONNECTION_FINISH,\r\n                payload: 1000\r\n            });\r\n        };\r\n    }, [dispatch]);\r\n    return (\r\n        <div>\r\n            <h1>–õ–µ–Ω—Ç–∞ –∑–∞–∫–∞–∑–æ–≤</h1>\r\n            <main className={styles.content}>\r\n                <section className={styles.ordersFeed}>\r\n                    <OrdersFeed/>\r\n                </section>\r\n                <section>\r\n                    <OrdersStat/>\r\n                </section>\r\n            </main>\r\n        </div>\r\n\r\n    )\r\n}","import styles from './orderDetailsStyles.module.css';\r\nimport OrderDetails from \"../../components/order-details/OrderDetails\";\r\n\r\nexport const OrderDetailsPage = () => {\r\n    return (\r\n        <main className={styles.orderDetailsPage}>\r\n            <section>\r\n                <OrderDetails/>\r\n            </section>\r\n        </main>\r\n    )\r\n}","import React, {useState, useEffect} from \"react\";\r\nimport styles from \"./OrderDetailsStyles.module.css\";\r\nimport {CurrencyIcon} from \"@ya.praktikum/react-developer-burger-ui-components\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport {ORDER_URL} from '../../services/appVariables';\r\nimport {checkResponse, generateOrderItems} from '../../services/helperFunctions';\r\nimport moment from 'moment';\r\nimport 'moment/locale/ru';\r\nimport {ORDER_STATUSES} from \"../../services/appVariables\";\r\nimport {useSelector} from \"react-redux\";\r\nimport Loading from \"../loading/Loading\";\r\nimport {NotFoundPage} from \"../../pages\";\r\nimport {TOrderCreate, TOrderData, TPreloadedState} from \"../../services/types\";\r\n\r\nconst OrderDetails = () => {\r\n    const {id} = useParams<{ id?: string }>();\r\n    const {items} = useSelector((store: TPreloadedState) => store.ingredients);\r\n    const [order, setOrder] = useState<TOrderCreate | null>(null);\r\n    const [orderItems, setOrderItems] = useState<TOrderData | null>(null);\r\n    const [error, setError] = useState<string | null>(null);\r\n    useEffect(() => {\r\n        if (!order) {\r\n            fetch(`${ORDER_URL}/${id}`)\r\n                .then(checkResponse)\r\n                .then(res => {\r\n                    if (res.success) {\r\n                        if (res.orders.length > 0) {\r\n                            setOrder(res.orders[0]);\r\n                        } else {\r\n                            setError('–ó–∞–∫–∞–∑ –Ω–µ –Ω–∞–π–¥–µ–Ω...');\r\n                        }\r\n                    } else {\r\n                        throw new Error(res.message);\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    setError(error.message);\r\n                    alert(error.message);\r\n                });\r\n        } else if (order && items.length > 0) {\r\n            setOrderItems(generateOrderItems(order.ingredients, items));\r\n        }\r\n    }, [items, order, id]);\r\n    return (\r\n        <div className={styles.orderDetails}>\r\n            <p className={styles.orderId}>#{id}</p>\r\n            {order && orderItems ? <>\r\n                    <h3 className={`text text_type_main-medium ${styles.itemName}`}>{order.name}</h3>\r\n                    <p className={`text text_type_main-default ${styles.orderStatus}`}>{ORDER_STATUSES[order.status as keyof typeof ORDER_STATUSES]}</p>\r\n                    <p className={`text text_type_main-medium ${styles.order–°omposition}`}>–°–æ—Å—Ç–∞–≤:</p>\r\n                    <ul className={styles.orderItems}>\r\n                        {orderItems.keys.map(orderItem => {\r\n                            const product = orderItems.metaData[orderItem];\r\n                            return (\r\n                                <li key={product.id} className={styles.orderItem}>\r\n                                    <div className={styles.orderItemLeft}>\r\n                                        <div className={styles.orderThumbnail}>\r\n                                            <img src={product.image} alt={product.name}/>\r\n                                        </div>\r\n                                        <p className=\"text text_type_main-default\">{product.name}</p>\r\n                                    </div>\r\n                                    <p className={styles.orderTotal}>\r\n                                        <span className={styles.orderCost}>{product.amount} x {product.price}</span>\r\n                                        <CurrencyIcon type=\"primary\"/>\r\n                                    </p>\r\n                                </li>\r\n                            )\r\n                        })}\r\n                    </ul>\r\n                    <div className={styles.orderFooter}>\r\n                    <span\r\n                        className=\"text text_type_main-default text_color_inactive\">{moment(order.createdAt).locale('ru').calendar()}</span>\r\n                        <p className={styles.orderTotal}>\r\n                            <span className={styles.orderCost}>{orderItems.orderTotal}</span>\r\n                            <CurrencyIcon type=\"primary\"/>\r\n                        </p>\r\n                    </div>\r\n                </> : error ? <NotFoundPage/> :\r\n                <Loading fail={false} request={true}/>}\r\n        </div>\r\n    )\r\n}\r\nexport default OrderDetails;","import {useSelector} from \"react-redux\";\r\nimport {Redirect, Route, useLocation} from \"react-router-dom\";\r\nimport {getCookie} from \"../../services/helperFunctions\";\r\nimport {TLocation, TPreloadedState, TProtectedRouteProps} from \"../../services/types\";\r\n\r\nexport default function ProtectedRoute({children, ...rest}: TProtectedRouteProps) {\r\n    const user = useSelector((store: TPreloadedState) => store.user);\r\n    const location = useLocation<TLocation>();\r\n    const refreshToken = getCookie('refreshToken');\r\n    switch (rest.path) {\r\n        case '/profile':\r\n        case '/profile/orders':\r\n        case '/profile/orders/:id':\r\n            return (\r\n                <Route\r\n                    {...rest}\r\n                    render={({location}) => refreshToken ? (\r\n                        children\r\n                    ) : (\r\n                        <Redirect\r\n                            to={{\r\n                                pathname: '/login',\r\n                                state: {from: location}\r\n                            }}\r\n                        />\r\n                    )}\r\n                />\r\n            )\r\n        case '/login':\r\n            if (refreshToken) {\r\n                return (\r\n                    <Redirect\r\n                        to={location?.state?.from ? location.state.from : {pathname: '/'}}\r\n                    />\r\n                );\r\n            }\r\n            return <Route {...rest}>{children}</Route>\r\n        case '/register':\r\n            return !refreshToken ? <Route {...rest}>{children}</Route> : <Redirect to={{pathname: '/profile'}}/>\r\n        case '/forgot-password':\r\n            return refreshToken ? <Redirect to={{pathname: '/profile'}}/> :\r\n                user.forgotPassword.success ? <Redirect to={{pathname: '/reset-password'}}/> :\r\n                    <Route {...rest}>{children}</Route>\r\n        case '/reset-password':\r\n            return refreshToken ? <Redirect to={{pathname: '/profile'}}/> :\r\n                !user.forgotPassword.success ? <Redirect to={{pathname: '/forgot-password'}}/> :\r\n                    user.resetPassword.success ? <Redirect to={{pathname: '/login'}}/> :\r\n                        <Route {...rest}>{children}</Route>\r\n        default:\r\n            return <Route {...rest}>{children}</Route>\r\n    }\r\n}","import {useLocation, useHistory, Route, Switch} from 'react-router-dom';\r\nimport Modal from \"../modal/Modal\";\r\nimport IngredientDetails from \"../ingredient-details/IngredientDetails\";\r\nimport OrderCreated from \"../order-created/OrderCreated\";\r\nimport OrderDetails from '../order-details/OrderDetails';\r\nimport {\r\n    ForgotPasswordPage,\r\n    HomePage,\r\n    IngredientsPage,\r\n    LoginPage, NotFoundPage,\r\n    ProfilePage,\r\n    RegisterPage,\r\n    ResetPasswordPage,\r\n    FeedPage,\r\n    OrderDetailsPage\r\n} from \"../../pages\";\r\nimport ProtectedRoute from \"../../hocs/protected-route/ProtectedRoute\";\r\nimport React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {TLocation, TPreloadedState} from \"../../services/types\";\r\n\r\nexport default function ModalSwitch() {\r\n    const location = useLocation<TLocation>();\r\n    const history = useHistory();\r\n    const {data: order} = useSelector((store: TPreloadedState) => store.order);\r\n    const background = (history.action === 'PUSH' || history.action === 'REPLACE') && location?.state && location.state.background;\r\n\r\n    return (\r\n        <>\r\n            <Switch location={background || location}>\r\n                <Route path=\"/\" exact>\r\n                    <HomePage/>\r\n                </Route>\r\n                <Route path=\"/feed\" exact>\r\n                    <FeedPage/>\r\n                </Route>\r\n                <Route path=\"/feed/:id\" exact>\r\n                    <OrderDetailsPage/>\r\n                </Route>\r\n                <ProtectedRoute path=\"/profile/orders/:id\" exact>\r\n                    <OrderDetailsPage/>\r\n                </ProtectedRoute>\r\n                <ProtectedRoute path=\"/login\" exact>\r\n                    <LoginPage/>\r\n                </ProtectedRoute>\r\n                <ProtectedRoute path=\"/register\" exact>\r\n                    <RegisterPage/>\r\n                </ProtectedRoute>\r\n                <ProtectedRoute path=\"/forgot-password\" exact>\r\n                    <ForgotPasswordPage/>\r\n                </ProtectedRoute>\r\n                <ProtectedRoute path=\"/reset-password\" exact>\r\n                    <ResetPasswordPage/>\r\n                </ProtectedRoute>\r\n                <Route path=\"/ingredients/:id\" exact>\r\n                    <IngredientsPage/>\r\n                </Route>\r\n                <ProtectedRoute path=\"/profile\">\r\n                    <ProfilePage/>\r\n                </ProtectedRoute>\r\n                <Route>\r\n                    <NotFoundPage/>\r\n                </Route>\r\n            </Switch>\r\n\r\n            {background && (\r\n                <Route\r\n                    path=\"/ingredients/:id\"\r\n                    children={\r\n                        <Modal>\r\n                            <IngredientDetails/>\r\n                        </Modal>\r\n                    }\r\n                />\r\n            )}\r\n            {background && (\r\n                <Route\r\n                    path=\"/feed/:id\"\r\n                    children={\r\n                        <Modal>\r\n                            <OrderDetails/>\r\n                        </Modal>\r\n                    }\r\n                />\r\n            )}\r\n            {background && (\r\n                <ProtectedRoute\r\n                    path='/profile/orders/:id'\r\n                    children={\r\n                        <Modal>\r\n                            <OrderDetails/>\r\n                        </Modal>\r\n                    }\r\n                />\r\n            )}\r\n            {order && (\r\n                <Modal>\r\n                    <OrderCreated/>\r\n                </Modal>\r\n            )}\r\n        </>\r\n    );\r\n};","import {API_URL} from '../appVariables';\r\nimport {checkResponse} from \"../helperFunctions\";\r\nimport {Dispatch} from \"react\";\r\nimport {TGetIngredientsActions, TGetIngredientsResponse} from '../types/ingredients';\r\n\r\nexport const GET_INGREDIENTS_REQUEST: 'GET_INGREDIENTS_REQUEST' = 'GET_INGREDIENTS_REQUEST';\r\nexport const GET_INGREDIENTS_SUCCESS: 'GET_INGREDIENTS_SUCCESS' = 'GET_INGREDIENTS_SUCCESS';\r\nexport const GET_INGREDIENTS_FAIL: 'GET_INGREDIENTS_FAIL' = 'GET_INGREDIENTS_FAIL';\r\n\r\nexport const getIngredients = () => (dispatch: Dispatch<TGetIngredientsActions>) => {\r\n    dispatch({\r\n        type: GET_INGREDIENTS_REQUEST\r\n    });\r\n    return fetch(API_URL)\r\n        .then<TGetIngredientsResponse>(checkResponse)\r\n        .then(data => {\r\n            if (data.success) {\r\n                dispatch({\r\n                    type: GET_INGREDIENTS_SUCCESS,\r\n                    ingredients: data.data\r\n                });\r\n            } else {\r\n                dispatch({\r\n                    type: GET_INGREDIENTS_FAIL\r\n                });\r\n            }\r\n        }).catch((error) => {\r\n            dispatch({\r\n                type: GET_INGREDIENTS_FAIL\r\n            });\r\n        });\r\n}","import React, {useEffect} from 'react';\r\nimport AppHeader from \"../app-header/AppHeader\";\r\nimport AppStyles from './App.module.css';\r\nimport ModalSwitch from '../modal-switch/ModalSwitch';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getIngredients} from \"../../services/actions/ingredients\";\r\nimport {TPreloadedState} from \"../../services/types\";\r\n\r\nfunction App() {\r\n    const dispatch = useDispatch();\r\n    const {items} = useSelector((store: TPreloadedState) => store.ingredients);\r\n    useEffect(() => {\r\n        if (items.length === 0) {\r\n            dispatch(getIngredients());\r\n        }\r\n    }, [dispatch, items.length]);\r\n    return (\r\n        <BrowserRouter basename=\"/react-burger\">\r\n            <AppHeader/>\r\n            <div className={AppStyles.container}>\r\n                <ModalSwitch/>\r\n            </div>\r\n        </BrowserRouter>\r\n    );\r\n}\r\n\r\nexport default App;","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import {TPreloadedState} from \"../services/types\";\r\nexport const preloadedState: TPreloadedState = {\r\n    ingredients: {\r\n        items: [],\r\n        ingredientsRequest: false,\r\n        ingredientsFailed: false\r\n    },\r\n    burger: {\r\n        bun: null,\r\n        notBun: []\r\n    },\r\n    order: {\r\n        data: null,\r\n        orderRequest: false,\r\n        orderRailed: false\r\n    },\r\n    websocket: {\r\n        orders: null,\r\n        total: null,\r\n        totalToday: null,\r\n        wsConnected: false,\r\n        error: null\r\n    },\r\n    user: {\r\n        data: null,\r\n        login: {\r\n            request: false,\r\n            failed: false\r\n        },\r\n        logout: {\r\n            request: false,\r\n            failed: false\r\n        },\r\n        register: {\r\n            request: false,\r\n            failed: false\r\n        },\r\n        forgotPassword: {\r\n            request: false,\r\n            success: false\r\n        },\r\n        resetPassword: {\r\n            request: false,\r\n            success: false\r\n        },\r\n        getUserRequest: {\r\n            request: false,\r\n            failed: false\r\n        },\r\n        updateUserRequest: {\r\n            request: false,\r\n            success: false\r\n        }\r\n    }\r\n};","import {preloadedState} from \"../../preloadedState\";\r\nimport {\r\n    GET_INGREDIENTS_REQUEST,\r\n    GET_INGREDIENTS_SUCCESS,\r\n    GET_INGREDIENTS_FAIL\r\n} from '../../actions/ingredients';\r\nimport {TGetIngredientsActions, TBurgerIngredientsState} from \"../../types/ingredients\";\r\n\r\nconst initialState: TBurgerIngredientsState = preloadedState.ingredients;\r\n\r\nexport const ingredientsReducer = (state = initialState, action: TGetIngredientsActions) => {\r\n    switch (action.type) {\r\n        case GET_INGREDIENTS_REQUEST: {\r\n            return {\r\n                ...state,\r\n                ingredientsRequest: true,\r\n                ingredientsFailed: false,\r\n            }\r\n        }\r\n        case GET_INGREDIENTS_SUCCESS: {\r\n            return {\r\n                ingredientsFailed: false,\r\n                items: action.ingredients,\r\n                ingredientsRequest: false\r\n            };\r\n        }\r\n        case GET_INGREDIENTS_FAIL: {\r\n            return {\r\n                ...state,\r\n                ingredientsRequest: false,\r\n                ingredientsFailed: true\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}","import {preloadedState} from \"../../preloadedState\";\r\n\r\nimport {\r\n    ADD_TO_BURGER,\r\n    REMOVE_FROM_BURGER,\r\n    REORDER_BURGER,\r\n    CLEAR_BURGER\r\n} from '../../actions/burger';\r\nimport {TBurgerConstructorActions, TBurgerConstructorState } from \"../../types/burger\";\r\n\r\nconst initialState: TBurgerConstructorState = preloadedState.burger;\r\nexport const burgerReducer = (state = initialState, action: TBurgerConstructorActions) => {\r\n    switch (action.type) {\r\n        case ADD_TO_BURGER:\r\n            if (action.item.type === 'bun') {\r\n                return {\r\n                    ...state,\r\n                    bun: action.item\r\n                };\r\n            }\r\n            return {\r\n                ...state,\r\n                notBun: [\r\n                    ...state.notBun,\r\n                    {\r\n                        ...action.item,\r\n                        uniqueId: action.uniqueId\r\n                    }\r\n                ]\r\n            }\r\n        case REMOVE_FROM_BURGER:\r\n            return {\r\n                ...state,\r\n                notBun: [...state.notBun].filter((el) => el.uniqueId !== action.uniqueId)\r\n            }\r\n        case REORDER_BURGER:\r\n            return {\r\n                ...state,\r\n                notBun: action.payload\r\n            }\r\n        case CLEAR_BURGER:\r\n            return preloadedState.burger;\r\n        default:\r\n            return state;\r\n    }\r\n}","import {preloadedState} from \"../../preloadedState\";\r\nimport {\r\n    LOGIN_REQUEST,\r\n    LOGIN_SUCCESS,\r\n    LOGIN_FAIL,\r\n    LOGOUT_REQUEST,\r\n    LOGOUT_SUCCESS,\r\n    LOGOUT_FAIL,\r\n    REGISTER_REQUEST,\r\n    REGISTER_SUCCESS,\r\n    REGISTER_FAIL,\r\n    FORGOT_PASSWORD_REQUEST,\r\n    FORGOT_PASSWORD_SUCCESS,\r\n    FORGOT_PASSWORD_FAIL,\r\n    RESET_PASSWORD_REQUEST,\r\n    RESET_PASSWORD_SUCCESS,\r\n    RESET_PASSWORD_FAIL,\r\n    GET_USER_REQUEST,\r\n    GET_USER_SUCCESS,\r\n    GET_USER_FAIL,\r\n    UPDATE_USER_REQUEST,\r\n    UPDATE_USER_SUCCESS,\r\n    UPDATE_USER_FAIL\r\n} from '../../actions/user';\r\nimport {TUserActions, TUserState} from \"../../types/user\";\r\n\r\nconst initialState: TUserState = preloadedState.user;\r\nexport const userReducer = (state = initialState, action: TUserActions) => {\r\n    switch (action.type) {\r\n        case LOGIN_REQUEST: {\r\n            return {\r\n                ...state,\r\n                login: {\r\n                    request: true,\r\n                    failed: false\r\n                }\r\n            }\r\n        }\r\n        case LOGIN_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                data: action.user,\r\n                login: {\r\n                    request: false,\r\n                    failed: false\r\n                }\r\n            }\r\n        }\r\n        case LOGIN_FAIL: {\r\n            return {\r\n                ...state,\r\n                login: {\r\n                    request: false,\r\n                    failed: true\r\n                }\r\n            }\r\n        }\r\n        case LOGOUT_REQUEST: {\r\n            return {\r\n                ...state,\r\n                logout: {\r\n                    request: true,\r\n                    failed: false\r\n                }\r\n            }\r\n        }\r\n        case LOGOUT_SUCCESS: {\r\n            return preloadedState.user;\r\n        }\r\n        case LOGOUT_FAIL: {\r\n            return {\r\n                ...state,\r\n                logout: {\r\n                    request: false,\r\n                    failed: true\r\n                }\r\n            }\r\n        }\r\n        case REGISTER_REQUEST: {\r\n            return {\r\n                ...state,\r\n                register: {\r\n                    request: true,\r\n                    failed: false\r\n                }\r\n            }\r\n        }\r\n        case REGISTER_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                data: action.user,\r\n                register: {\r\n                    request: false,\r\n                    failed: false\r\n                }\r\n            };\r\n        }\r\n        case REGISTER_FAIL: {\r\n            return {\r\n                ...state,\r\n                register: {\r\n                    request: false,\r\n                    failed: true\r\n                }\r\n            };\r\n        }\r\n        case FORGOT_PASSWORD_REQUEST: {\r\n            return {\r\n                ...state,\r\n                forgotPassword: {\r\n                    request: true,\r\n                    success: false\r\n                }\r\n            }\r\n        }\r\n        case FORGOT_PASSWORD_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                forgotPassword: {\r\n                    request: false,\r\n                    success: true\r\n                }\r\n            }\r\n        }\r\n        case FORGOT_PASSWORD_FAIL: {\r\n            return {\r\n                ...state,\r\n                forgotPassword: {\r\n                    request: false,\r\n                    success: false\r\n                }\r\n            }\r\n        }\r\n        case RESET_PASSWORD_REQUEST: {\r\n            return {\r\n                ...state,\r\n                resetPassword: {\r\n                    request: true,\r\n                    success: false\r\n                }\r\n            }\r\n        }\r\n        case RESET_PASSWORD_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                resetPassword: {\r\n                    request: false,\r\n                    success: true\r\n                }\r\n            }\r\n        }\r\n        case RESET_PASSWORD_FAIL: {\r\n            return {\r\n                ...state,\r\n                resetPassword: {\r\n                    request: false,\r\n                    success: false\r\n                }\r\n            }\r\n        }\r\n        case GET_USER_REQUEST: {\r\n            return {\r\n                ...state,\r\n                getUserRequest: {\r\n                    request: true,\r\n                    failed: false\r\n                }\r\n            }\r\n        }\r\n        case GET_USER_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                data: action.user,\r\n                getUserRequest: {\r\n                    request: false,\r\n                    failed: false\r\n                }\r\n            }\r\n        }\r\n        case GET_USER_FAIL: {\r\n            return {\r\n                ...state,\r\n                getUserRequest: {\r\n                    request: false,\r\n                    failed: true\r\n                }\r\n            }\r\n        }\r\n        case UPDATE_USER_REQUEST: {\r\n            return {\r\n                ...state,\r\n                updateUserRequest: {\r\n                    request: true,\r\n                    success: false\r\n                }\r\n            }\r\n        }\r\n        case UPDATE_USER_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                data: action.user,\r\n                updateUserRequest: {\r\n                    request: false,\r\n                    success: true\r\n                }\r\n            }\r\n        }\r\n        case UPDATE_USER_FAIL: {\r\n            return {\r\n                ...state,\r\n                updateUserRequest: {\r\n                    request: false,\r\n                    success: false\r\n                }\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}","import {preloadedState} from \"../../preloadedState\";\r\nimport {\r\n    ORDER_CREATE_REQUEST,\r\n    ORDER_CREATE_SUCCESS,\r\n    ORDER_CREATE_FAIL,\r\n    ORDER_CLOSE\r\n} from '../../actions/order';\r\nimport {TOrderActions, TOrderCreatedState} from \"../../types/order\";\r\n\r\nconst initialState: TOrderCreatedState = preloadedState.order;\r\nexport const orderReducer = (state = initialState, action: TOrderActions) => {\r\n    switch (action.type) {\r\n        case ORDER_CREATE_REQUEST:\r\n            return {\r\n                ...state,\r\n                orderRequest: true,\r\n                orderRailed: false\r\n            }\r\n        case ORDER_CREATE_SUCCESS:\r\n            return {\r\n                data: action.order,\r\n                orderRequest: false,\r\n                orderRailed: false\r\n            }\r\n        case ORDER_CREATE_FAIL:\r\n            return {\r\n                ...state,\r\n                orderRequest: false,\r\n                orderRailed: true\r\n            }\r\n        case ORDER_CLOSE:\r\n            return preloadedState.order;\r\n        default:\r\n            return state;\r\n    }\r\n}","import {combineReducers} from 'redux';\r\nimport {ingredientsReducer} from './ingredients-reducer/ingredientsReducer';\r\nimport {burgerReducer} from './burger-reducer/burgerReducer';\r\nimport {userReducer} from './user-reducer/userReducer';\r\nimport {orderReducer} from \"./order-reducer/orderReducer\";\r\nimport {websocketReducer} from \"./websocket-reducer/websocketReducer\";\r\n\r\n// –ö–æ—Ä–Ω–µ–≤–æ–π —Ä–µ–¥—å—é—Å–µ—Ä\r\nexport const rootReducer = combineReducers({\r\n    ingredients: ingredientsReducer,\r\n    burger: burgerReducer,\r\n    order: orderReducer,\r\n    websocket: websocketReducer,\r\n    user: userReducer\r\n})","import {preloadedState} from '../../preloadedState';\r\nimport {\r\n    WS_CONNECTION_SUCCESS,\r\n    WS_CONNECTION_ERROR,\r\n    WS_CONNECTION_CLOSED,\r\n    WS_GET_ORDERS\r\n} from '../../actions/websocket';\r\nimport {WSActions} from \"../../types/ws\";\r\n\r\nexport const websocketReducer = (state = preloadedState.websocket, action: WSActions) => {\r\n    switch (action.type) {\r\n        case WS_CONNECTION_SUCCESS:\r\n            return {\r\n                ...state,\r\n                error: null,\r\n                wsConnected: true\r\n            }\r\n        case WS_CONNECTION_ERROR:\r\n            return {\r\n                ...state,\r\n                error: action.payload ?? 'WebSocket error',\r\n                wsConnected: false\r\n            }\r\n        case WS_CONNECTION_CLOSED:\r\n            return preloadedState.websocket;\r\n        case WS_GET_ORDERS:\r\n            return {\r\n                ...state,\r\n                error: null,\r\n                orders: action.payload.orders,\r\n                total: action.payload.total,\r\n                totalToday: action.payload.totalToday,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import {configureStore} from '@reduxjs/toolkit';\r\nimport {rootReducer} from './reducers';\r\nimport {socketMiddleware} from './middlewares/websocetMiddleware';\r\nimport thunk from 'redux-thunk';\r\n\r\nexport const store = configureStore({\r\n    reducer: rootReducer,\r\n    devTools: process.env.NODE_ENV !== 'production',\r\n    middleware: [thunk, socketMiddleware],\r\n    enhancers: []\r\n});\r\nexport type TRootStore = ReturnType<typeof rootReducer>;","import {getCookie} from \"../helperFunctions\";\r\nimport {\r\n    WS_CONNECTION_CLOSED,\r\n    WS_CONNECTION_ERROR,\r\n    WS_CONNECTION_FINISH,\r\n    WS_CONNECTION_START,\r\n    WS_CONNECTION_SUCCESS,\r\n    WS_GET_ORDERS\r\n} from \"../actions/websocket\";\r\nimport {WSActions} from \"../types/ws\";\r\nimport {Middleware} from \"redux\";\r\nimport {TRootStore} from \"../store\";\r\n\r\nexport const socketMiddleware: Middleware<{}, TRootStore> = (store) => {\r\n    let socket: WebSocket | null = null;\r\n    return next => (action: WSActions) => {\r\n        const {dispatch} = store;\r\n\r\n        if (action.type === WS_CONNECTION_START) {\r\n            const token = getCookie('accessToken').replace('Bearer ', '');\r\n            socket = new WebSocket(action.payload.secure ? `${action.payload.url}?token=${token}` : action.payload.url);\r\n        }\r\n        if (socket) {\r\n            socket.onopen = event => {\r\n                dispatch({type: WS_CONNECTION_SUCCESS, payload: event});\r\n            }\r\n            socket.onerror = event => {\r\n                dispatch({type: WS_CONNECTION_ERROR, payload: event});\r\n            }\r\n            socket.onmessage = event => {\r\n                const {data} = event;\r\n                const parsedData = JSON.parse(data);\r\n                dispatch({\r\n                    type: WS_GET_ORDERS,\r\n                    payload: parsedData\r\n                });\r\n            }\r\n            socket.onclose = event => {\r\n                dispatch({type: WS_CONNECTION_CLOSED, payload: event});\r\n            }\r\n            if (action.type === WS_CONNECTION_FINISH) {\r\n                socket.close(action.payload);\r\n            }\r\n        }\r\n        next(action);\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/app/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {Provider} from 'react-redux';\r\nimport {store} from './services/store';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginWrapper\":\"login_loginWrapper__gOlDc\",\"loginContent\":\"login_loginContent__3ZyKD\",\"formTitle\":\"login_formTitle__JOqYF\",\"form\":\"login_form__2I1Va\",\"inputWrapper\":\"login_inputWrapper__kW2q6\",\"submitWrapper\":\"login_submitWrapper__ItTmf\",\"paragraph\":\"login_paragraph__3lo0b\",\"link\":\"login_link__1lLUp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginWrapper\":\"register_loginWrapper__1fW9t\",\"loginContent\":\"register_loginContent__2qCE9\",\"formTitle\":\"register_formTitle__3412N\",\"form\":\"register_form__UZpiH\",\"inputWrapper\":\"register_inputWrapper__2r1pu\",\"submitWrapper\":\"register_submitWrapper__2t7Cu\",\"paragraph\":\"register_paragraph__2Uui7\",\"link\":\"register_link__PkZn9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginWrapper\":\"reset-password_loginWrapper__3I7XY\",\"loginContent\":\"reset-password_loginContent__3LoVo\",\"formTitle\":\"reset-password_formTitle__230sv\",\"form\":\"reset-password_form__h7Y-h\",\"inputWrapper\":\"reset-password_inputWrapper__3XGQL\",\"submitWrapper\":\"reset-password_submitWrapper__399aj\",\"paragraph\":\"reset-password_paragraph__1QMBP\",\"link\":\"reset-password_link__3jPKI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginWrapper\":\"forgotPassword_loginWrapper__3GA2O\",\"loginContent\":\"forgotPassword_loginContent__2Qnpr\",\"formTitle\":\"forgotPassword_formTitle__1qBpR\",\"form\":\"forgotPassword_form__1k7Ro\",\"inputWrapper\":\"forgotPassword_inputWrapper__1g_uW\",\"submitWrapper\":\"forgotPassword_submitWrapper__72h7N\",\"paragraph\":\"forgotPassword_paragraph__Js7p-\",\"link\":\"forgotPassword_link__IrGAX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputWrapper\":\"ProfileFormStyles_inputWrapper__35Q9K\",\"submitWrapper\":\"ProfileFormStyles_submitWrapper__3XP3p\",\"link\":\"ProfileFormStyles_link__QxOua\",\"sidesWrapper\":\"ProfileFormStyles_sidesWrapper__3eB8-\",\"leftSide\":\"ProfileFormStyles_leftSide__2pz5h\",\"rightSide\":\"ProfileFormStyles_rightSide__3Jy0L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileMenu\":\"ProfileMenuStyles_profileMenu__162fl\",\"profileLink\":\"ProfileMenuStyles_profileLink__13H_h\",\"profileLinkActive\":\"ProfileMenuStyles_profileLinkActive__39uxq ProfileMenuStyles_profileLink__13H_h\",\"info\":\"ProfileMenuStyles_info__1BK_f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart\":\"BurgerConstructorStyles_cart__ykOjH\",\"cartEmpty\":\"BurgerConstructorStyles_cartEmpty__2_RSM\",\"ingredients\":\"BurgerConstructorStyles_ingredients__3CI4a\",\"checkout\":\"BurgerConstructorStyles_checkout__2fv9A\",\"button\":\"BurgerConstructorStyles_button__rfpBw\",\"total\":\"BurgerConstructorStyles_total__1ObGb\",\"rightSidebar\":\"BurgerConstructorStyles_rightSidebar__1dOgs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ordersTable\":\"OrdersStatStyles_ordersTable__h_0H6\",\"completedOrders\":\"OrdersStatStyles_completedOrders__FYCe_\",\"orderIds\":\"OrdersStatStyles_orderIds__2QIF0\",\"ordersTotals\":\"OrdersStatStyles_ordersTotals__3wklf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"BurgerIngredientsStyles_list__2aZfo\",\"notification\":\"BurgerIngredientsStyles_notification__1b1BF\",\"burgerBuilder\":\"BurgerIngredientsStyles_burgerBuilder__TJ-gZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"profile_content__1HIMP\",\"column\":\"profile_column__1dmb5\",\"centerBlock\":\"profile_centerBlock__TRN6n\",\"sidebar\":\"profile_sidebar__3y_F4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listItemPrice\":\"BurgerIngredientStyles_listItemPrice__2w4j6\",\"listItemTitle\":\"BurgerIngredientStyles_listItemTitle__tyY6n\",\"listItemContent\":\"BurgerIngredientStyles_listItemContent__4yuBB\",\"listItem\":\"BurgerIngredientStyles_listItem__1ujWA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"orderId\":\"OrderCreatedStyles_orderId__2RDrj\",\"orderDetails\":\"OrderCreatedStyles_orderDetails__13Rw4\",\"iconWrapper\":\"OrderCreatedStyles_iconWrapper__1VXl6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"LoadingStyles_section__1Z3ZN\",\"loadingGif\":\"LoadingStyles_loadingGif__16viY\",\"error\":\"LoadingStyles_error__3-E9h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"ModalStyles_modal__za-hS\",\"closeButton\":\"ModalStyles_closeButton__1dApL\",\"headingWrapper\":\"ModalStyles_headingWrapper__qo87D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredientDetails\":\"IngredientDetailsStyles_ingredientDetails__1bN37\",\"nutritionalValues\":\"IngredientDetailsStyles_nutritionalValues__1Vb_P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paragraph\":\"notFound_paragraph__5Nsua\",\"content\":\"notFound_content__3T972\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"feedStyles_content__3prTg\",\"ordersFeed\":\"feedStyles_ordersFeed__3WIX-\"};"],"sourceRoot":""}